{"version":3,"sources":["Components/Layout/MenuList/AdminMenuList.js","Components/Layout/MenuList/UserMenuList.js","Components/Layout/MenuList/MenuList.js","files/free.svg","Components/Layout/Header/Logo.js","Components/Checkout/DeliveryForm.js","Components/Checkout/AddressCard.js","Components/Checkout/AddressForm.js","Components/Checkout/PaymentForm.js","Components/Checkout/Review.js","Components/Checkout/CheckoutForm.js","Components/Checkout/CheckoutDialog.js","Components/Layout/Header/CurrencySelect.js","Components/Layout/Header/ThemeSelect.js","Components/Layout/Header/DemoSelect.js","Components/Layout/Header/Header.js","Components/Account/EditableAccount.js","Components/Checkout/AddPyamentMethodDialog.js","Components/Account/OrderDialog.js","Components/Account/Account.js","files/pizza-margherita.jpeg","Components/Cart/ItemCard.js","Components/Cart/Cart.js","Components/Checkout/Checkout.js","Components/Orders/AdminUsersOrders.js","Components/Orders/UserOrders.js","Components/Orders/ItemsDialog.js","Components/Orders/MessagesDialog.js","Components/Orders/OrderCard.js","Components/Orders/Orders.js","Components/AdminDashboard/AddProductDialog.js","Components/ProductsList/AdminProductCard.js","Components/ProductsList/EditableProductCard.js","Components/ProductsList/AdminProductsList.js","Components/ProductsList/ProductCard.js","Components/ProductsList/ProductsList.js","Components/Layout/Body/Body.js","Components/Layout/Footer/Footer.js","Components/Forms/SignIn.js","Components/Forms/SignInDialog.js","Components/Forms/SignUp.js","Components/Forms/SignUpDialog.js","js/user_demo.js","js/admin_demo.js","App.js","index.js"],"names":["AdminMenuList","props","MenuItem","onClick","signOut","handleSelected","UserMenuList","MenuList","Menu","open","menuList","onClose","handleMenuList","anchorEl","user","admin","handleSignInDialog","handleSignUpDialog","Logo","src","free","alt","className","DeliveryForm","Dialog","Grid","item","container","spacing","xs","TextField","required","id","name","label","fullWidth","autoComplete","variant","value","state","number","onChange","handleChange","address1","address2","sm","city","region","postcode","country","Button","editUser","bull","Box","component","sx","display","mx","transform","OutlinedCard","minWidth","Card","CardContent","Typography","fontSize","color","gutterBottom","address","line1","firstName","lastName","AddressForm","React","useState","deliveryFormDialog","setDeliveryFormDialog","handleDeliveryFormDialog","useEffect","console","log","FormControl","InputLabel","Select","labelId","shippingMethod","handleShippingMethodSelect","size","email","type","password","password2","PaymentForm","paymentMethod","handlePaymentMethodSelected","addPaymentMethod","handleAddPaymentMethod","md","cardName","cardNumber","expMonth","expYear","helperText","cvc","createPaymentMethod","payment_methods","length","card","handleCardSelected","map","pm","last4","Review","List","disablePadding","cart","product","ListItem","py","px","ListItemText","primary","secondary","description","price","currency","_id","fontWeight","total_cart","mt","direction","exp_month","exp_year","FormControlLabel","control","Checkbox","socket","io","steps","createTheme","CheckoutForm","activeStep","setActiveStep","setState","setCard","paymentIntent","setPaymentIntent","setAddPaymentMethod","setPaymentMethod","setShippingMethod","e","target","handleNext","a","axios","post","then","res","data","errors","msg","updateUser","createPaymentIntent","confirmPaymentIntent","order","orderedBy","payment_method","payment_intent","status","shipping_method","items","emit","emptyCart","new_card","on","Container","maxWidth","mb","Paper","my","p","align","Stepper","pt","pb","Step","StepLabel","Fragment","step","Error","getStepContent","justifyContent","ml","CheckoutDialog","CurrencySelect","handleCurrency","ThemeSelect","theme","handleTheme","DemoSelect","demo","handleDemo","Header","checkoutDialog","setCheckoutDialog","handleCheckoutDialog","notifications","getDifferent","obj1","obj2","obj1Values","Object","values","obj2Values","obj1Keys","keys","new_obj","i","j","obj","push","EditableAccount","setAddress","username","account","objValue","objKey","DialogActions","AddPyamentMethodDialog","handlePaymentTypeSelection","OrderDialog","order_id","total_amount","Account","editableAccountDialog","setEditableAccountDialog","addPaymentMethodDialog","setAddPaymentMethodDialog","orderDialog","setOrderDialog","setOrder","handleEditableAccountDialog","deleteAccount","get","card_number","deletePaymentMethod","customer_id","pi","handleOrderDialog","orders","payment_intents","index","brand","ItemCard","CardHeader","title","subheader","CardMedia","height","image","img","category","quantity","CardActions","deleteFromCart","Cart","columns","Checkout","paymentTypeSelected","setPaymentTypeSelected","paymentSelected","setPaymentSelected","handleAddPaymentMethodDialog","checkout","response","AdminUsersOrders","acceptOrder","deleteOrder","declineOrder","user_id","accepted","UserOrders","Orders","ItemsDialog","rowSpacing","columnSpacing","MessagesDialog","message","setMessage","sendMessage","sentBy","text","messages","chat","OrderCard","declineAndRefundOrder","startDelivery","endDelivery","date","delivered","handleItemsDialog","handleMessagesDialog","itemsDialog","setItemsDialog","messagesDialog","setMessagesDialog","onlyActive","setOnlyActive","setMessages","setItems","FormGroup","checked","newOrders","AddProductDialog","addProductToProductsList","AdminProductCard","handleEditProduct","deleteProductFromProductsList","EditableProductCard","editProductList","deleteProduct","handleEditable","AdminProductsList","editProduct","setEditProduct","addProductDialog","setAddproductDialog","categories","setCategories","handleAddProductDialog","updateProductsList","result","productsList","forEach","getCategories","ProductCard","addToCart","ProductsList","editable","setEditable","new_product","products","Body","selected","Footer","Copyright","Link","href","Date","getFullYear","SignIn","ThemeProvider","CssBaseline","marginTop","flexDirection","alignItems","Avatar","m","bgcolor","noValidate","margin","autoFocus","signIn","SignInDialog","SignUp","signUp","SignUpDialog","user_demo","fingerprint","modifications","admin_demo","App","setOrders","setTheme","setCurrency","setDemo","setProductsList","setCart","setSelected","setMenuList","setAnchorEl","signUpDialog","setSignUpDialog","signInDialog","setSignInDialog","setChat","setNotifications","myTheme","palette","mode","elm","createList","reduce","acc","d","found","find","list","slice","totalAmountCart","err","currentTarget","splice","indexOf","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dc74a501.chunk.js","sourcesContent":["import React from 'react'\nimport {\n    MenuItem\n} from '@mui/material'\n\nexport default function AdminMenuList(props) {\n    return (\n        <div>\n            <MenuItem onClick={props.signOut}>Sign out</MenuItem>\n            <MenuItem onClick={() => props.handleSelected('products')}>Products list(as admin)</MenuItem>\n            <MenuItem onClick={() => props.handleSelected('orders')}>Users' orders</MenuItem>\n            <MenuItem onClick={() => props.handleSelected('account')}>Account</MenuItem>\n        </div>\n    )\n}\n","import React from 'react'\nimport {\n    MenuItem\n} from '@mui/material'\n\nexport default function UserMenuList(props) {\n    return (\n        <div>\n            <MenuItem onClick={props.signOut}>Sign out</MenuItem>\n            <MenuItem onClick={() => props.handleSelected('products')}>Products list(as user)</MenuItem>\n            <MenuItem onClick={() => props.handleSelected('orders')}>Orders</MenuItem>\n            <MenuItem onClick={() => props.handleSelected('cart')}>Cart</MenuItem>\n            <MenuItem onClick={() => props.handleSelected('account')}>Account</MenuItem>\n        </div>\n    )\n}\n","import React from 'react'\nimport {\n    Menu,\n    MenuItem\n} from '@mui/material'\nimport AdminMenuList from './AdminMenuList'\nimport UserMenuList from './UserMenuList'\n\nexport default function MenuList(props) {\n    return (\n        <div>\n            <Menu\n                open={props.menuList}\n                onClose={props.handleMenuList}\n                anchorEl={props.anchorEl}\n                // anchorOrigin={{\n                //     vertical: 'top',\n                //     horizontal: 'right',\n                // }}\n            >\n                {props.user\n                ? props.user.admin\n                    ?   <AdminMenuList\n                            handleMenuList={props.handleMenuList}\n                            handleSelected={props.handleSelected}\n                            signOut={props.signOut}\n                        />\n                    :   <UserMenuList\n                            handleMenuList={props.handleMenuList}\n                            handleSelected={props.handleSelected}\n                            signOut={props.signOut}\n                        />\n                : <div>\n                    <MenuItem onClick={props.handleSignInDialog}>Sign in</MenuItem>\n                    <MenuItem onClick={props.handleSignUpDialog}>Sign up</MenuItem>\n                    <MenuItem onClick={() => props.handleSelected('products')}>Products list</MenuItem>\n                    <MenuItem onClick={() => props.handleSelected('cart')}>Cart</MenuItem>\n                    <MenuItem onClick={() => props.handleSelected('orders')}>Orders</MenuItem>\n                </div>\n                }\n            </Menu>\n        </div>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/free.091d0987.svg\";","import React from 'react'\nimport {\n    Grid\n} from '@mui/material'\nimport free from '../../../files/free.svg'\n\nexport default function Logo() {\n    return (\n        <div>\n            <img src={free}  alt=\"logo\" className=\"logo\"/>\n        </div>\n    )\n}\n","import React from 'react'\nimport {\n    Grid,\n    TextField,\n    Dialog\n} from '@mui/material'\nimport { Button } from '@mui/material'\n\nexport default function DeliveryForm(props) {\n    return (\n        <div>\n            <Dialog\n                open={props.open}\n                onClose={props.onClose}\n            >\n                <Grid item>\n                    <Grid container spacing={3}>\n                        <Grid item xs={2}>\n                            <TextField\n                                required\n                                id=\"number\"\n                                name=\"number\"\n                                label=\"Number\"\n                                fullWidth\n                                autoComplete=\"shipping address-number\"\n                                variant=\"standard\"\n                                value={props.state.number}\n                                onChange={props.handleChange}\n                            />\n                        </Grid>\n                        <Grid item xs={10}>\n                            <TextField\n                                required\n                                id=\"address1\"\n                                name=\"address1\"\n                                label=\"Address line 1\"\n                                fullWidth\n                                autoComplete=\"shipping address-line1\"\n                                variant=\"standard\"\n                                value={props.state.address1}\n                                onChange={props.handleChange}\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                id=\"address2\"\n                                name=\"address2\"\n                                label=\"Address line 2\"\n                                fullWidth\n                                autoComplete=\"shipping address-line2\"\n                                variant=\"standard\"\n                                value={props.state.address2}\n                                onChange={props.handleChange}\n                            />\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <TextField\n                                required\n                                id=\"city\"\n                                name=\"city\"\n                                label=\"City\"\n                                fullWidth\n                                autoComplete=\"shipping address-city\"\n                                variant=\"standard\"\n                                value={props.state.city}\n                                onChange={props.handleChange}\n                            />\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <TextField\n                                id=\"region\"\n                                name=\"region\"\n                                label=\"Region\"\n                                fullWidth\n                                variant=\"standard\"\n                                value={props.state.region}\n                                onChange={props.handleChange}\n                            />\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <TextField\n                                required\n                                id=\"postcode\"\n                                name=\"postcode\"\n                                label=\"Postcode\"\n                                fullWidth\n                                autoComplete=\"shipping postal-code\"\n                                variant=\"standard\"\n                                value={props.state.postcode}\n                                onChange={props.handleChange}\n                            />\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <TextField\n                                required\n                                id=\"country\"\n                                name=\"country\"\n                                label=\"Country\"\n                                fullWidth\n                                autoComplete=\"shipping country\"\n                                variant=\"standard\"\n                                value={props.state.country}\n                                onChange={props.handleChange}\n                            />\n                        </Grid>\n                        <Grid item>\n                            <Button\n                                onClick={props.editUser}\n                            >\n                                add address\n                            </Button>\n                        </Grid>\n                    </Grid>\n                </Grid>\n            </Dialog>\n        </div>\n    )\n}\n","import * as React from 'react';\nimport Box from '@mui/material/Box';\nimport Card from '@mui/material/Card';\nimport CardActions from '@mui/material/CardActions';\nimport CardContent from '@mui/material/CardContent';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\n\nconst bull = (\n    <Box\n        component=\"span\"\n        sx={{ display: 'inline-block', mx: '2px', transform: 'scale(0.8)' }}\n    >\n        •\n    </Box>\n)\n\nexport default function OutlinedCard(props) {\n    return (\n        <Box sx={{ minWidth: 275 }}>\n            <Card\n                variant=\"outlined\"\n            >\n                <CardContent>\n                    <Typography sx={{ fontSize: 14 }} color=\"text.secondary\" gutterBottom>\n                        Address details\n                    </Typography>\n                    <Typography variant=\"h5\" component=\"div\">\n                        {props.user.address.number}{bull}\n                        {props.user.address.line1}{bull}\n                        {props.user.address.city}{bull}\n                        {props.user.address.region}{bull}\n                        {props.user.address.country}{bull}\n                        {props.user.address.postcode}\n                    </Typography><br/><br/>\n                    <Typography sx={{ fontSize: 14 }} color=\"text.secondary\" gutterBottom>\n                        First and Last name\n                    </Typography>\n                    <Typography variant=\"body2\">\n                        {props.user.firstName}{bull}{props.user.lastName}\n                    </Typography>\n                </CardContent>\n            </Card>\n        </Box>\n    )\n}","import React, {useEffect} from 'react'\nimport Checkbox from '@mui/material/Checkbox'\nimport {\n    Select,\n    FormControl,\n    InputLabel,\n    MenuItem,\n    Button,\n    FormControlLabel,\n    TextField,\n    Typography,\n    Grid\n} from '@mui/material'\nimport DeliveryForm from './DeliveryForm'\nimport AddressCard from './AddressCard'\n\nexport default function AddressForm(props) {\n    const [deliveryFormDialog, setDeliveryFormDialog] = React.useState(false)\n\n    const handleDeliveryFormDialog = () => {\n        setDeliveryFormDialog(!deliveryFormDialog)\n    }\n\n    useEffect(() => {\n        console.log(props.state)\n        console.log(props.user)\n    }, [])\n    return (\n        <div>\n            <DeliveryForm\n                open={deliveryFormDialog}\n                onClose={handleDeliveryFormDialog}\n                handleChange={props.handleChange}\n                state={props.state}\n                user={props.user}\n                editUser={props.editUser}\n            />\n            <Typography variant=\"h6\" gutterBottom>\n                Shipping address\n            </Typography>\n            <FormControl fullWidth>\n                <InputLabel id=\"select-shipping-method\">Shipping method</InputLabel>\n                <Select\n                    labelId=\"select-shipping-method\"\n                    id=\"dselect-shipping-method\"\n                    value={props.shippingMethod}\n                    label=\"Shipping method\"\n                    onChange={props.handleShippingMethodSelect}\n                >\n                    <MenuItem value={'delivery'}>Delivery</MenuItem>\n                    <MenuItem value={'pick-up'}>Pick up</MenuItem>\n                </Select>\n            </FormControl>\n            {props.user\n            ?\n                props.shippingMethod === 'delivery'\n                ?\n                <div>\n                    <AddressCard\n                        user={props.user}\n                        handleDeliveryFormDialog={handleDeliveryFormDialog}\n                    />\n                    <Button size=\"small\" onClick={handleDeliveryFormDialog}>Use another address</Button>\n                </div>\n                : null\n            : \n                <div>\n                    <button onClick={props.handleSignInDialog}>sign in</button>\n                </div>\n            }<br/>\n            {!props.user && props.shippingMethod === 'delivery'\n            ?\n            <div>\n                <Grid item>\n                    <Grid container spacing={3}>\n                        <Grid item xs={12}>\n                            <TextField\n                                required\n                                id=\"email\"\n                                name=\"email\"\n                                label=\"Email\"\n                                fullWidth\n                                autoComplete=\"email\"\n                                variant=\"standard\"\n                                value={props.state.email}\n                                onChange={props.handleChange}\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                required\n                                id=\"password\"\n                                name=\"password\"\n                                label=\"Password\"\n                                type=\"password\"\n                                fullWidth\n                                autoComplete=\"password\"\n                                variant=\"standard\"\n                                value={props.state.password}\n                                onChange={props.handleChange}\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                required\n                                id=\"password2\"\n                                name=\"password2\"\n                                label=\"Password2\"\n                                type=\"password\"\n                                fullWidth\n                                autoComplete=\"password2\"\n                                variant=\"standard\"\n                                value={props.state.password2}\n                                onChange={props.handleChange}\n                            />\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <TextField\n                                required\n                                id=\"firstName\"\n                                name=\"firstName\"\n                                label=\"First name\"\n                                fullWidth\n                                autoComplete=\"first-name\"\n                                variant=\"standard\"\n                                value={props.state.firstName}\n                                onChange={props.handleChange}\n                            />\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <TextField\n                                required\n                                id=\"lastName\"\n                                name=\"lastName\"\n                                label=\"Last name\"\n                                fullWidth\n                                autoComplete=\"last-name\"\n                                variant=\"standard\"\n                                value={props.state.lastName}\n                                onChange={props.handleChange}\n                            />\n                        </Grid>\n                        <Grid item xs={2}>\n                            <TextField\n                                required\n                                id=\"number\"\n                                name=\"number\"\n                                label=\"Number\"\n                                fullWidth\n                                autoComplete=\"shipping address-number\"\n                                variant=\"standard\"\n                                value={props.state.number}\n                                onChange={props.handleChange}\n                            />\n                        </Grid>\n                        <Grid item xs={10}>\n                            <TextField\n                                required\n                                id=\"address1\"\n                                name=\"address1\"\n                                label=\"Address line 1\"\n                                fullWidth\n                                autoComplete=\"shipping address-line1\"\n                                variant=\"standard\"\n                                value={props.state.address1}\n                                onChange={props.handleChange}\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                id=\"address2\"\n                                name=\"address2\"\n                                label=\"Address line 2\"\n                                fullWidth\n                                autoComplete=\"shipping address-line2\"\n                                variant=\"standard\"\n                                value={props.state.address2}\n                                onChange={props.handleChange}\n                            />\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <TextField\n                                required\n                                id=\"city\"\n                                name=\"city\"\n                                label=\"City\"\n                                fullWidth\n                                autoComplete=\"shipping address-city\"\n                                variant=\"standard\"\n                                value={props.state.city}\n                                onChange={props.handleChange}\n                            />\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <TextField\n                                id=\"region\"\n                                name=\"region\"\n                                label=\"Region\"\n                                fullWidth\n                                variant=\"standard\"\n                                value={props.state.region}\n                                onChange={props.handleChange}\n                            />\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <TextField\n                                required\n                                id=\"postcode\"\n                                name=\"postcode\"\n                                label=\"Postcode\"\n                                fullWidth\n                                autoComplete=\"shipping postal-code\"\n                                variant=\"standard\"\n                                value={props.state.postcode}\n                                onChange={props.handleChange}\n                            />\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <TextField\n                                required\n                                id=\"country\"\n                                name=\"country\"\n                                label=\"Country\"\n                                fullWidth\n                                autoComplete=\"shipping country\"\n                                variant=\"standard\"\n                                value={props.state.country}\n                                onChange={props.handleChange}\n                            />\n                        </Grid>\n                    </Grid>\n                </Grid>\n            </div>\n            : !props.user && props.shippingMethod === 'pick-up'\n                ?\n                <div>\n                    <Grid item xs={12}>\n                        <TextField\n                            required\n                            id=\"email\"\n                            name=\"email\"\n                            label=\"Email\"\n                            fullWidth\n                            autoComplete=\"email\"\n                            variant=\"standard\"\n                            value={props.state.email}\n                            onChange={props.handleChange}\n                        />\n                    </Grid>\n                    <Grid item xs={12}>\n                        <TextField\n                            required\n                            id=\"password\"\n                            name=\"password\"\n                            label=\"Password\"\n                            type=\"password\"\n                            fullWidth\n                            autoComplete=\"password\"\n                            variant=\"standard\"\n                            value={props.state.password}\n                            onChange={props.handleChange}\n                        />\n                    </Grid>\n                    <Grid item xs={12}>\n                        <TextField\n                            required\n                            id=\"password2\"\n                            name=\"password2\"\n                            label=\"Password2\"\n                            type=\"password\"\n                            fullWidth\n                            autoComplete=\"password2\"\n                            variant=\"standard\"\n                            value={props.state.password2}\n                            onChange={props.handleChange}\n                        />\n                    </Grid>\n                </div>\n                : null\n            }\n        </div>\n    )\n}","import * as React from 'react'\nimport Typography from '@mui/material/Typography'\nimport Grid from '@mui/material/Grid'\nimport TextField from '@mui/material/TextField'\nimport FormControlLabel from '@mui/material/FormControlLabel'\nimport Checkbox from '@mui/material/Checkbox'\nimport {\n    Select,\n    FormControl,\n    InputLabel,\n    MenuItem\n} from '@mui/material'\nimport { Button } from '@mui/material'\n\nexport default function PaymentForm(props) {\n    return (\n        <React.Fragment>\n        <Typography variant=\"h6\" gutterBottom>\n            Choose payment method\n        </Typography>\n        <FormControl fullWidth>\n            <InputLabel id=\"select-payment-method\">Payment method</InputLabel>\n            <Select\n                labelId=\"select-payment-method\"\n                id=\"dselect-payment-method\"\n                value={props.paymentMethod}\n                label=\"Payment method\"\n                onChange={props.handlePaymentMethodSelected}\n            >\n                <MenuItem value={'cash'}>Cash</MenuItem>\n                <MenuItem value={'card'}>Card</MenuItem>\n            </Select>\n        </FormControl>\n        {props.addPaymentMethod\n        ? \n            <div>\n                <button onClick={props.handleAddPaymentMethod}>close payment form</button><br/><br/>\n                {props.paymentMethod === 'card'\n                ?\n                    <div>\n                        <Grid container spacing={3}>\n                            <Grid item xs={12} md={6}>\n                            <TextField\n                                required\n                                id=\"cardName\"\n                                label=\"Name on card\"\n                                fullWidth\n                                autoComplete=\"cc-name\"\n                                variant=\"standard\"\n                                value={props.state.cardName}\n                                onChange={props.handleChange}\n                            />\n                            </Grid>\n                            <Grid item xs={12} md={6}>\n                            <TextField\n                                required\n                                id=\"cardNumber\"\n                                label=\"Card number\"\n                                fullWidth\n                                autoComplete=\"cc-number\"\n                                variant=\"standard\"\n                                value={props.state.cardNumber}\n                                onChange={props.handleChange}\n                            />\n                            </Grid>\n                            <Grid item xs={12} md={6}>\n                            <TextField\n                                required\n                                id=\"expMonth\"\n                                label=\"Expiry month\"\n                                fullWidth\n                                autoComplete=\"cc-exp\"\n                                variant=\"standard\"\n                                value={props.state.expMonth}\n                                onChange={props.handleChange}\n                            />\n                            </Grid>\n                            <Grid item xs={12} md={6}>\n                            <TextField\n                                required\n                                id=\"expYear\"\n                                label=\"Expiry year\"\n                                fullWidth\n                                autoComplete=\"cc-exp\"\n                                variant=\"standard\"\n                                value={props.state.expYear}\n                                onChange={props.handleChange}\n                            />\n                            </Grid>\n                            <Grid item xs={12} md={6}>\n                            <TextField\n                                required\n                                id=\"cvc\"\n                                label=\"CVC\"\n                                helperText=\"Last three digits on signature strip\"\n                                fullWidth\n                                autoComplete=\"cc-csc\"\n                                variant=\"standard\"\n                                value={props.state.cvc}\n                                onChange={props.handleChange}\n                            />\n                            </Grid>\n                            <Grid item xs={12} md={6}>\n                                <Button\n                                    onClick={props.createPaymentMethod}\n                                >add card</Button>\n                            </Grid>\n                        </Grid>\n                    </div>\n                : null}\n            </div>\n        : <button onClick={props.handleAddPaymentMethod}>add payment method</button>\n        }\n        {props.user && props.paymentMethod === 'card' && !props.addPaymentMethod\n        ?\n            props.user.payment_methods.length != 0\n            ?\n                <div>\n                    <FormControl fullWidth>\n                        <InputLabel id=\"select-card\">Choose an existing card</InputLabel>\n                        <Select\n                            labelId=\"select-card\"\n                            id=\"dselect-card\"\n                            value={props.card}\n                            label=\"Card\"\n                            onChange={props.handleCardSelected}\n                        >\n                            {props.user.payment_methods.map(pm => (\n                                <MenuItem key={pm.id} value={pm}>{`xxxx-xxxx-${pm.last4}`}</MenuItem>\n                            ))}\n                        </Select>\n                    </FormControl>\n                </div>\n            : null            \n        : null\n        }\n        </React.Fragment>\n    )\n}","import * as React from 'react'\nimport Typography from '@mui/material/Typography'\nimport List from '@mui/material/List'\nimport ListItem from '@mui/material/ListItem'\nimport ListItemText from '@mui/material/ListItemText'\nimport Grid from '@mui/material/Grid'\nimport {\n    Checkbox,\n    FormControlLabel\n} from '@mui/material'\nimport AddressCard from './AddressCard'\n\nexport default function Review(props) {\n    // console.log(props.cart)\n    console.log(props.card)\n    return (\n        <React.Fragment>\n        <Typography variant=\"h6\" gutterBottom>\n            Order summary\n        </Typography>\n        <List disablePadding>\n            {props.cart.map((product) => (\n            <ListItem key={product._id} sx={{ py: 1, px: 0 }}>\n                <ListItemText primary={product.name} secondary={product.description} />\n                <Typography variant=\"body2\">{product.price} {props.currency}</Typography>\n            </ListItem>\n            ))}\n\n            <ListItem sx={{ py: 1, px: 0 }}>\n            <ListItemText primary=\"Total\" />\n            <Typography variant=\"subtitle1\" sx={{ fontWeight: 700 }}>\n                {props.cart.total_cart} {props.currency}\n            </Typography>\n            </ListItem>\n        </List>\n        <Grid container spacing={2}>\n            <Grid item xs={12} sm={6}>\n            <Typography variant=\"h6\" gutterBottom sx={{ mt: 2 }}>\n                Shipping\n            </Typography>\n            {props.shippingMethod === 'delivery'\n            ? \n                <AddressCard \n                    user={props.user}\n                />\n            :\n                <Typography variant=\"h7\" gutterBottom sx={{ mt: 2 }}>\n                    Pick up\n                </Typography>\n            }\n            </Grid>\n            <Grid item container direction=\"column\" xs={12} sm={6}>\n                <Typography variant=\"h6\" gutterBottom sx={{ mt: 2 }}>\n                    Payment details\n                </Typography>\n                {props.paymentMethod === 'card'\n                ?\n                <div>\n                    <Grid item>\n                        <Typography gutterBottom>\n                            Card name: {props.card.cardName}\n                        </Typography>\n                    </Grid>\n                    <Grid item>\n                        <Typography gutterBottom>\n                            Card number: {props.card.last4}\n                        </Typography>\n                    </Grid>\n                    <Grid item>\n                        <Typography gutterBottom>\n                            Expire month: {props.card.exp_month}\n                        </Typography>\n                    </Grid>\n                    <Grid item>\n                        <Typography gutterBottom>\n                            Expire year: {props.card.exp_year}\n                        </Typography>\n                    </Grid>\n\n                </div>\n                : 'Cash'\n                }\n            </Grid>\n        </Grid>\n            <FormControlLabel\n                control={<Checkbox color=\"secondary\" name=\"payment-terms-and-conditions\" value=\"yes\" />}\n                label=\"Checkbox to agree terms and conditions\"\n            />\n        </React.Fragment>\n    )\n}","import React, {useEffect} from 'react'\nimport CssBaseline from '@mui/material/CssBaseline'\nimport Box from '@mui/material/Box'\nimport Container from '@mui/material/Container'\nimport Paper from '@mui/material/Paper'\nimport Stepper from '@mui/material/Stepper'\nimport Step from '@mui/material/Step'\nimport StepLabel from '@mui/material/StepLabel'\nimport Button from '@mui/material/Button'\nimport Link from '@mui/material/Link'\nimport Typography from '@mui/material/Typography'\nimport { createTheme, ThemeProvider } from '@mui/material/styles'\nimport AddressForm from './AddressForm'\nimport PaymentForm from './PaymentForm'\nimport Review from './Review'\n\nimport { io } from 'socket.io-client'\n\nimport axios from 'axios'\n\nconst socket = io()\n\nconst steps = ['Shipping address', 'Payment details', 'Review your order']\n\nconst theme = createTheme()\n\nexport default function CheckoutForm(props) {\n    const [activeStep, setActiveStep] = React.useState(0)\n    const [state, setState] = React.useState({\n        email: props.user ? props.user.email : '',\n        firstName: props.user ? props.user.firstName : '',\n        lastName: props.user ? props.user.lastName : '',\n        address1: props.user ? props.user.address.line1 : '',\n        address2: '',\n        number: '',\n        city: '',\n        region: '',\n        postcode: '',\n        country: '',\n        cardName: '',\n        cardNumber: '',\n        expMonth: '',\n        expYear: '',\n        cvc: '',\n    })\n    const [card, setCard] = React.useState({})\n    const [paymentIntent, setPaymentIntent] = React.useState()\n    const [addPaymentMethod, setAddPaymentMethod] = React.useState(false)\n    const [paymentMethod, setPaymentMethod] = React.useState('')\n    const [shippingMethod, setShippingMethod] = React.useState('')\n\n    const handleShippingMethodSelect = (e) => {\n        setShippingMethod(e.target.value)\n    }\n\n    const handlePaymentMethodSelected = (e) => {\n        setPaymentMethod(e.target.value)\n    }\n\n    const handleAddPaymentMethod = () => {\n        setAddPaymentMethod(!addPaymentMethod)\n        setPaymentMethod('card')\n    }\n\n    const handleCardSelected = (e) => {\n        console.log(e.target.value)\n        setCard(e.target.value)\n    }\n\n    const handleChange = (e) => {\n        setState({...state, [e.target.id]: e.target.value})\n    }\n\n    const handleNext = async () => {\n        // Address form\n\n        // if there's not a shipping method don't go next\n        if (!shippingMethod && activeStep === 0) {\n            // TODO: error pop up\n            console.log('Select a shipping method first')\n            // if shipping method is delivery & there's no user signed in\n        } else if (shippingMethod === 'delivery' && !props.user && activeStep === 0) {\n            // TODO: if user exists sign in\n            // TODO: if user doesn't exist sign up and sign in\n            // TODO: handle errors\n            // TODO: if required fields are empty send error\n            // sign up user\n            if (state.email != '' && state.password != '' && state.password2 != '') {\n                // TODO: sign up with user's details or call /users/edit-user\n                console.log('Try sign in and if not existing sign up')\n                console.log(state)\n                let {\n                    email,\n                    password,\n                    password2,\n                    firstName,\n                    lastName,\n                    address1,\n                    address2,\n                    city,\n                    region,\n                    postcode,\n                    country\n                } = state\n\n                // sign up\n                axios.post('/users/sign-up', {email, password, password2}).then(async (res) => {\n                    // FIXME: talk to back end to change errors handling or wait for new update. b007 && f011\n                    if (res.data.errors) {\n                        console.log(res.data.errors[0].msg)\n                        // If user email already exists\n                        if (res.data.errors[0].msg === 'Email already exists') {\n                            let r = await axios.post('/users/sign-in', {email, password}).then(() => editUser())\n                            setActiveStep(activeStep + 1)\n                        }\n                    } else {\n                        console.log(res.data)\n                        if (res.data.msg === 'User added!') {\n                            let r = await axios.post('/users/sign-in', {email, password}).then(() => editUser())\n                            setActiveStep(activeStep + 1)\n                        }\n                    }\n                })\n            } else {\n                console.log('Fill all fields')\n            }\n            // if shipping method is delivery & user signed in\n        } else if (shippingMethod === 'delivery' && props.user && activeStep === 0) {\n            // edit user signed in\n            // TODO: edit only if user's details are different from DB ones\n            editUser()\n            setActiveStep(activeStep + 1)\n            // if shipping method is pick-up & there's no user signed in\n        } else if (shippingMethod === 'pick-up' && !props.user && activeStep === 0) {\n            // sign up user\n            if (state.email != '' && state.password != '' && state.password2 != '') {\n                console.log('Try sign in and if not existing sign up')\n                console.log(state)\n                let {email, password, password2} = state\n\n                // sign up\n                axios.post('/users/sign-up', {email, password, password2}).then(async (res) => {\n                    // FIXME: talk to back end to change errors handling or wait for new update. b007 && f011\n                    if (res.data.errors) {\n                        console.log(res.data.errors[0].msg)\n                        // If user email already exists\n                        if (res.data.errors[0].msg === 'Email already exists') {\n                            let r = await axios.post('/users/sign-in', {email, password})\n                            props.updateUser()\n                            setActiveStep(activeStep + 1)\n                        }\n                    } else {\n                        console.log(res.data)\n                        if (res.data.msg === 'User added!') {\n                            let r = await axios.post('/users/sign-in', {email, password})\n                            props.updateUser()\n                            setActiveStep(activeStep + 1)\n                        }\n                    }\n                })\n            } else {\n                console.log('Fill all fields')\n            }\n            // if shipping method is pick-up & user signed in\n        } else if (shippingMethod === 'pick-up' && props.user && activeStep === 0) {\n            // edit user signed in\n            // TODO: edit only if user's details are different from DB ones\n            // editUser()\n            setActiveStep(activeStep + 1)\n        }\n        // Payment form\n        // FIXME: handle better create payment intent / method and go next step\n        if (activeStep === 1 && props.user) {\n            console.log(addPaymentMethod)\n            console.log(paymentMethod)\n            console.log(card)\n\n            // if a payment method is selected\n            if (paymentMethod) {\n                // if payment method === cash\n                if (paymentMethod === 'cash') {\n                    console.log('Payment selected = cash. Go next.')\n                    setActiveStep(activeStep + 1)\n                }\n                // if payment method === card\n                if (paymentMethod === 'card') {\n                    // if there's no card selected\n                    if (!card && !addPaymentMethod) {\n                        // TODO: pop up message\n                        console.log('Please choose an existing payment method or add new one.')\n                    }\n                    // if there's a card selected\n                    if (card) {\n                        console.log('Card selected. Create payment intent. Go next.')\n                        // TODO: create payment intent\n                        if (!paymentIntent) {\n                            createPaymentIntent()\n                        }\n                        setActiveStep(activeStep + 1)\n                    }\n                    // if using a new card create new payment method\n                    // then create payment intent\n                    if (addPaymentMethod && !paymentIntent) {\n                        console.log('Create payment method')\n                        createPaymentMethod()\n                        .then(() => createPaymentIntent()\n                        .then(() => setActiveStep(activeStep + 1)))\n                    }\n                }\n            } else {\n                console.log('Please select a payment method')\n            }\n        }\n\n        if (activeStep === steps.length - 1 && props.user) {\n            console.log(`active step === steps.length -1 = ${steps.length - 1}`)\n            if (paymentMethod === 'card') {\n                confirmPaymentIntent()\n                let order = {\n                    orderedBy: props.user._id,\n                    payment_method: card,\n                    address: props.user.address,\n                    payment_intent: {\n                        status: 'succeeded',\n                        card: card\n                    },\n                    shipping_method: shippingMethod,\n                    items: props.cart,\n                    total_cart: props.cart.total_cart\n                }\n                socket.emit('new_order', {order})\n            } else if (paymentMethod === 'cash') {\n                console.log('Add order to admin and user')\n                // TODO: save order to user and admin\n                let order = {\n                    orderedBy: props.user._id,\n                    address: props.user.address,\n                    items: props.cart,\n                    payment_intent: {\n                        status: 'succeeded',\n                        payment_method: 'cash'\n                    },\n                    shipping_method: shippingMethod,\n                    total_cart: props.cart.total_cart\n                }\n                console.log(order)\n                let res = await axios.post('/users/add-order', {order})\n                socket.emit('new_order', {order})\n                console.log(res.data)\n            }\n            props.emptyCart()\n            // props.updateProductsList()\n            props.onClose()\n\n        }\n    }\n\n    const handleBack = () => {\n        setActiveStep(activeStep - 1)\n    }\n\n    const editUser = async () => {\n        console.log('edit user')\n        console.log(state)\n        let {\n            firstName,\n            lastName,\n            address1,\n            address2,\n            city,\n            region,\n            country,\n            postcode,\n            number\n        } = state\n        let res = await axios.post('/users/edit-user', {\n            firstName,\n            lastName,\n            address1,\n            address2,\n            city,\n            region,\n            country,\n            postcode,\n            number\n        })\n        console.log(res.data)\n        props.updateUser()\n    }\n\n    const createPaymentMethod = async () => {\n        let new_card = {\n            number: state.cardNumber,\n            exp_month: state.expMonth,\n            exp_year: state.expYear,\n            cvc: state.cvc\n        }\n        console.log(paymentMethod)\n        console.log(new_card)\n        let res = await axios.post('/users/add-payment-method', {type: paymentMethod, card: new_card})\n        console.log(res.data)\n        setCard(res.data.paymentMethod)\n        handleAddPaymentMethod()\n        props.updateUser()\n    }\n\n    const createPaymentIntent = async () => {\n        console.log('create payment intent')\n        console.log(card)\n        console.log(props.cart.total_cart)\n        let res = await axios.post('/users/create-payment-intent', {payment_method: card.id, total_cart: props.cart.total_cart*100, cart: props.cart})\n        console.log(res.data)\n        if (res.data.paymentIntent) {\n            setPaymentIntent(res.data.paymentIntent)\n        }\n    }\n\n    const confirmPaymentIntent = async () => {\n        console.log('Place order')\n        let res = await axios.post('/users/confirm-payment-intent', {payment_intent: paymentIntent})\n        console.log(res.data)\n    }\n\n    const getStepContent = (step) => {\n        switch (step) {\n            case 0:\n            return (\n                <AddressForm\n                    user={props.user}\n                    handleSignInDialog={props.handleSignInDialog}\n                    handleChange={handleChange}\n                    state={state}\n                    editUser={editUser}\n                    shippingMethod={shippingMethod}\n                    handleShippingMethodSelect={handleShippingMethodSelect}\n                />)\n            case 1:\n            return (\n                <PaymentForm\n                    user={props.user}\n                    handleChange={handleChange}\n                    state={state}\n                    card={card}\n                    handleCardSelected={handleCardSelected}\n                    handleAddPaymentMethod={handleAddPaymentMethod}\n                    addPaymentMethod={addPaymentMethod}\n                    paymentMethod={paymentMethod}\n                    handlePaymentMethodSelected={handlePaymentMethodSelected}\n                    createPaymentMethod={createPaymentMethod}\n                />)\n            case 2:\n            return (\n                <Review\n                    state={state}\n                    handleChange={handleChange}\n                    cart={props.cart}\n                    card={card}\n                    paymentMethod={paymentMethod}\n                    shippingMethod={shippingMethod}\n                    currency={props.currency}\n                    user={props.user}\n                />)\n            default:\n            throw new Error('Unknown step')\n        }\n    }\n\n    useEffect(() => {\n        console.log(state)\n        socket.on('new_order', ({order}) => {\n            // setChat([...chat, {order}])\n            console.log('new order')\n            console.log(order)\n        })\n    }, [])\n\n    return (\n        <Container component=\"main\" maxWidth=\"sm\" sx={{ mb: 4 }}>\n            <Paper variant=\"outlined\" sx={{ my: { xs: 3, md: 6 }, p: { xs: 2, md: 3 } }}>\n            <Typography component=\"h1\" variant=\"h4\" align=\"center\">\n                Checkout\n            </Typography>\n            <Stepper activeStep={activeStep} sx={{ pt: 3, pb: 5 }}>\n                {steps.map((label) => (\n                <Step key={label}>\n                    <StepLabel>{label}</StepLabel>\n                </Step>\n                ))}\n            </Stepper>\n            <React.Fragment>\n                {activeStep === steps.length ? (\n                <React.Fragment>\n                    <Typography variant=\"h5\" gutterBottom>\n                        Thank you for your order.\n                    </Typography>\n                    <Typography variant=\"subtitle1\">\n                        Your order number is #2001539. We have emailed your order\n                        confirmation, and will send you an update when your order has\n                        shipped.\n                    </Typography>\n                </React.Fragment>\n                ) : (\n                <React.Fragment>\n                    {getStepContent(activeStep)}\n                    <Box sx={{ display: 'flex', justifyContent: 'flex-end' }}>\n                    {activeStep !== 0 && (\n                        <Button onClick={handleBack} sx={{ mt: 3, ml: 1 }}>\n                            Back\n                        </Button>\n                    )}\n\n                    <Button\n                        variant=\"contained\"\n                        onClick={handleNext}\n                        sx={{ mt: 3, ml: 1 }}\n                    >\n                        {activeStep === steps.length - 1 ? 'Place order' : 'Next'}\n                    </Button>\n                    </Box>\n                </React.Fragment>\n                )}\n            </React.Fragment>\n            </Paper>\n        </Container>\n    )\n}","import React from 'react'\nimport { Dialog } from '@mui/material'\nimport CheckoutForm from './CheckoutForm'\n\nexport default function CheckoutDialog(props) {\n    return (\n        <div>\n            <Dialog\n                open={props.open}\n                onClose={props.onClose}\n            >\n                <CheckoutForm\n                    user={props.user}\n                    updateUser={props.updateUser}\n                    handleSignInDialog={props.handleSignInDialog}\n                    cart={props.cart}\n                    onClose={props.onClose}\n                    emptyCart={props.emptyCart}\n                    currency={props.currency}\n                />\n            </Dialog>\n        </div>\n    )\n}\n","import React from 'react'\nimport {\n    FormControl,\n    InputLabel,\n    Select,\n    MenuItem\n} from '@mui/material'\n\nexport default function CurrencySelect(props) {\n    return (\n        <div>\n            <FormControl>\n                <InputLabel id=\"select-currency-label\">Currency</InputLabel>\n                <Select\n                    labelId=\"select-currency-label\"\n                    id=\"select-currency\"\n                    value={props.currency}\n                    label=\"Currency\"\n                    onChange={props.handleCurrency}\n                >\n                    <MenuItem value={'GBP'}>GBP</MenuItem>\n                    <MenuItem value={'USD'}>USD</MenuItem>\n                    <MenuItem value={'EUR'}>EUR</MenuItem>\n                </Select>\n            </FormControl>\n        </div>\n    )\n}\n","import React from 'react'\nimport {\n    FormControl,\n    InputLabel,\n    Select,\n    MenuItem\n} from '@mui/material'\n\nexport default function ThemeSelect(props) {\n    return (\n        <div>\n            <FormControl>\n                <InputLabel id=\"select-theme-label\">Theme</InputLabel>\n                <Select\n                    labelId=\"select-theme-label\"\n                    id=\"select-theme\"\n                    value={props.theme}\n                    label=\"Theme\"\n                    onChange={props.handleTheme}\n                >\n                    <MenuItem value={'dark'}>Dark</MenuItem>\n                    <MenuItem value={'light'}>Light</MenuItem>\n                </Select>\n            </FormControl>\n        </div>\n    )\n}\n","import React from 'react'\nimport {\n    FormControl,\n    InputLabel,\n    Select,\n    MenuItem\n} from '@mui/material'\n\nexport default function DemoSelect(props) {\n    return (\n        <div>\n            <FormControl fullWidth>\n            <InputLabel id=\"demo-simple-select-label\">Demo</InputLabel>\n            <Select\n                labelId=\"demo-simple-select-label\"\n                id=\"demo-simple-select\"\n                value={props.demo}\n                label=\"Demo\"\n                onChange={props.handleDemo}\n            >\n                <MenuItem value={'live-account'}>Live account</MenuItem>\n                <MenuItem value={'user-demo'}>As user</MenuItem>\n                <MenuItem value={'admin-demo'}>As admin</MenuItem>\n            </Select>\n            </FormControl>\n        </div>\n    )\n}\n","import React from 'react'\nimport {\n    Grid,\n    Switch,\n    FormControlLabel,\n    FormGroup,\n    Typography\n} from '@mui/material'\nimport MenuList from '../MenuList/MenuList'\nimport Logo from './Logo'\nimport CheckoutDialog from '../../Checkout/CheckoutDialog'\nimport CurrencySelect from './CurrencySelect'\nimport ThemeSelect from './ThemeSelect'\nimport DemoSelect from './DemoSelect'\nimport { Paper } from '@mui/material'\n\nexport default function Header(props) {\n    const [checkoutDialog, setCheckoutDialog] = React.useState(false)\n\n    const handleCheckoutDialog = () => {\n        if (props.cart.length === 0) {\n            console.log(\"Cart is empty. Don't open checkout dialog\")\n            // TODO: message pop up\n        } else {\n            setCheckoutDialog(!checkoutDialog)\n        }\n    }\n\n    console.log(props.notifications)\n\n    return (\n        <div>\n            <CheckoutDialog\n                open={checkoutDialog}\n                onClose={handleCheckoutDialog}\n                user={props.user}\n                updateUser={props.updateUser}\n                handleSignInDialog={props.handleSignInDialog}\n                cart={props.cart}\n                emptyCart={props.emptyCart}\n                currency={props.currency}\n            />\n            <MenuList\n                user={props.user}\n                menuList={props.menuList}\n                handleMenuList={props.handleMenuList}\n                anchorEl={props.anchorEl}\n                signOut={props.signOut}\n                handleSelected={props.handleSelected}\n                handleSignInDialog={props.handleSignInDialog}\n                handleSignUpDialog={props.handleSignUpDialog}\n            />\n            <Grid container>\n                <Grid item xs>\n                    <Logo />\n                </Grid>\n                <Grid item xs>\n                    <Typography>\n                        Total cart: {props.cart.total_cart ? props.cart.total_cart : 0} {props.currency}\n                    </Typography>\n                </Grid>\n                <Grid item xs>\n                    <button onClick={handleCheckoutDialog}>checkout</button>\n                </Grid>\n                <Grid item xs>\n                    <DemoSelect\n                        demo={props.demo}\n                        handleDemo={props.handleDemo}\n                    />\n                </Grid>\n                <Grid item xs>\n                    <CurrencySelect\n                        currency={props.currency}\n                        handleCurrency={props.handleCurrency}\n                    />\n                </Grid>\n                <Grid item xs>\n                    <ThemeSelect\n                        theme={props.theme}\n                        handleTheme={props.handleTheme}\n                    />\n                </Grid>\n                <Grid item xs>\n                    <Typography>\n                        {props.notifications.length}\n                    </Typography>\n                </Grid>\n                <Grid item xs>\n                    <button\n                        id=\"menu-list-button\"\n                        className=\"Menu-button\"\n                        onClick={props.handleMenuList}\n                    >menu</button>\n                </Grid>\n            </Grid>\n        </div>\n    )\n}\n","import React from 'react'\nimport {\n    Dialog,\n    DialogActions,\n    TextField,\n    Button\n} from '@mui/material'\nimport axios from 'axios'\n\nconst getDifferent = (obj1, obj2) => {\n    const obj1Values = Object.values(obj1)\n    const obj2Values = Object.values(obj2)\n\n    const obj1Keys = Object.keys(obj1)\n    const obj2Keys = Object.keys(obj2)\n    \n    let new_obj = []\n    \n    for (let i = 0; i < obj1Values.length; i++) {\n        for (let j = 0; j < obj2Values.length; j++) {\n            if (i === j) {\n                if (obj1Values[i] != obj2Values[j]) {\n                    let key = obj1Keys[i]\n                    let obj = {}\n                    obj[key] = obj1Values[i]\n                    new_obj.push(obj)\n                }\n            }\n        }\n    }\n    return new_obj\n}\n\nexport default function EditableAccount(props) {\n    const [address, setAddress] = React.useState(props.user.address)\n    const [state, setState] = React.useState({\n        username: props.user.username,\n        email: props.user.email\n    })\n\n    const handleChange = (e) => {\n        setAddress({...address, [e.target.id]: e.target.value})\n        setState({...state, [e.target.id]: e.target.value})\n    }\n\n    const editUser = async () => {\n        let obj = getDifferent(address, props.user.address)\n        let account = {}\n        for (let i = 0; i < obj.length; i++) {\n            const objValue = Object.values(obj[i])[0]\n\n            const objKey = Object.keys(obj[i])[0]\n\n            account[objKey] = objValue\n        }\n        if (state.username != props.user.username) {\n            account.username = state.username\n        }\n        if (state.email != props.user.email) {\n            account.email = state.email\n        }\n        if (Object.keys(account) != 0) {\n            console.log(account)\n            let res = await axios.post('/users/edit-user', account)\n            console.log(res.data)\n            props.updateUser()\n        }\n    }\n\n    return (\n        <div>\n            <Dialog\n                open={props.open}\n                onClose={props.onClose}\n            >\n                <TextField\n                    id=\"username\"\n                    onChange={handleChange}\n                    label=\"username\"\n                    value={state.username}\n                />\n                <TextField\n                    id=\"email\"\n                    onChange={handleChange}\n                    label=\"email\"\n                    value={state.email}\n                />\n                <TextField\n                    id=\"city\"\n                    onChange={handleChange}\n                    label=\"city\"\n                    value={address.city}\n                />\n                <TextField\n                    id=\"country\"\n                    onChange={handleChange}\n                    label=\"Country\"\n                    value={address.country}\n                />\n                <TextField\n                    id=\"line1\"\n                    onChange={handleChange}\n                    label=\"Line 1\"\n                    value={address.line1}\n                />\n                <TextField\n                    id=\"number\"\n                    onChange={handleChange}\n                    label=\"Number\"\n                    value={address.number}\n                />\n                <TextField\n                    id=\"postcode\"\n                    onChange={handleChange}\n                    label=\"Postcode\"\n                    value={address.postcode}\n                />\n                <TextField\n                    id=\"region\"\n                    onChange={handleChange}\n                    label=\"Region\"\n                    value={address.region}\n                />\n                <DialogActions>\n                    <Button onClick={editUser}>confirm</Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    )\n}\n","import React from 'react'\nimport {\n    Dialog,\n    TextField,\n    FormControl,\n    InputLabel,\n    Select,\n    MenuItem\n} from '@mui/material'\n\nexport default function AddPyamentMethodDialog(props) {\n    return (\n        <div>\n            <Dialog\n                open={props.open}\n                onClose={props.onClose}\n            >\n                <FormControl>\n                    <InputLabel id=\"select-payment-type\">Payment type</InputLabel>\n                    <Select\n                        labelId=\"select-payment-type\"\n                        id=\"select-payment-type\"\n                        value={props.card ? props.card.type : ''}\n                        label=\"Payment type\"\n                        onChange={props.handlePaymentTypeSelection}\n                    >\n                        <MenuItem value={'card'}>Card</MenuItem>\n                    </Select>\n                </FormControl><br/>\n                <TextField\n                    id='card_name'\n                    label='Card name'\n                    onChange={props.handleChange}\n                /><br/>\n                <TextField\n                    id='card_number'\n                    name='Card number'\n                    label='Card number'\n                    onChange={props.handleChange}\n                /><br/>\n                <TextField\n                    id='exp_month'\n                    name='Expire month'\n                    label='Expire month'\n                    onChange={props.handleChange}\n                /><br/>\n                <TextField\n                    id='exp_year'\n                    name='Expire year'\n                    label='Expire year'\n                    onChange={props.handleChange}\n                /><br/>\n                <TextField\n                    id='cvc'\n                    name='Cvc'\n                    label='Cvc'\n                    onChange={props.handleChange}\n                /><br/>\n                <button onClick={props.addPaymentMethod}>add payment method</button><br/>\n                <button onClick={props.onClose}>close</button>\n            </Dialog>\n        </div>\n    )\n}\n","import React from 'react'\nimport { Dialog } from '@mui/material'\n\nexport default function OrderDialog(props) {\n  return (\n    <div>\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n        >\n            {props.order\n            ? <div>\n                Order id: {props.order.order_id} or {props.order._id}<br/><br/>\n                Address:<br/>\n                -Postcode: {props.order.address.postcode}<br/><br/>\n                Items: {props.order.items.map(item =>\n                <div>\n                    Name: {item.name}\n                </div>)}<br/>\n                Amount: {props.order.total_amount/100}\n            </div>\n            : 'loading'\n            }\n        </Dialog>\n    </div>\n  )\n}\n","import React from 'react'\nimport {\n    TextField,\n    Button\n} from '@mui/material'\nimport axios from 'axios'\nimport EditableAccount from './EditableAccount'\nimport AddPyamentMethodDialog from '../Checkout/AddPyamentMethodDialog'\nimport OrderDialog from './OrderDialog'\n\nexport default function Account(props) {\n    console.log(props.user)\n    const [editableAccountDialog, setEditableAccountDialog] = React.useState(false)\n    const [addPaymentMethodDialog, setAddPaymentMethodDialog] = React.useState(false)\n    const [orderDialog, setOrderDialog] = React.useState(false)\n    const [card, setCard] = React.useState()\n    const [order, setOrder] = React.useState()\n\n    const handleEditableAccountDialog = () => {\n        setEditableAccountDialog(!editableAccountDialog)\n    }\n\n    const handleAddPaymentMethod = () => {\n        setAddPaymentMethodDialog(!addPaymentMethodDialog)\n    }\n\n    const handleChange = (e) => {\n        setCard({...card, [e.target.id]: e.target.value})\n    }\n\n    const deleteAccount = async () => {\n        let res = await axios.get('/users/delete-user')\n        console.log(res.data)\n        props.updateUser()\n    }\n\n    const addPaymentMethod = async () => {\n        console.log('add payment method')\n        console.log(card)\n        let {\n            type,\n            card_number,\n            exp_month,\n            exp_year,\n            cvc\n        } = card\n        let new_card= {\n            number: card_number,\n            exp_month,\n            exp_year,\n            cvc,\n        }\n        // TODO: /add-payment-method, {type, card}\n        let res = await axios.post('/users/add-payment-method', {type, card: new_card})\n        console.log(res.data)\n        props.updateUser()\n        handleAddPaymentMethod()\n    }\n\n    const deletePaymentMethod = async (pm) => {\n        console.log(pm)\n        console.log(props.user.customer_id)\n        // TODO: delete card: /delete-card, {cus_1234, card_1234}\n        let res = await axios.post('/users/detach-payment-method', {payment_method: pm.id})\n        console.log(res.data)\n        props.updateUser()\n    }\n\n    const handlePaymentTypeSelection = (e) => {\n        console.log(e.target)\n        setCard({...card, type: e.target.value})\n    }\n\n    const confirmPaymentIntent = async (pi) => {\n        console.log(pi)\n        // TODO: /confirm-payment-intent, {payment_intent_id: pi.id}\n        let res = await axios.post('/users/confirm-payment-intent', {payment_intent: pi.id})\n        console.log(res.data)\n        props.updateUser()\n    }\n\n    const handleOrderDialog = () => {\n        let orders = props.orders\n        for (let i = 0; i < orders.length; i++) {\n            let payment_intents = props.user.payment_intents\n            for (let j = 0; j < payment_intents.length; j++) {\n                if (orders[i].payment_intent.id === payment_intents[j].id) {\n                    setOrder(orders[i])\n                    console.log(orders[i])\n                }\n            }\n        }\n        setOrderDialog(!orderDialog)\n    }\n\n    return (\n        <div>\n            <EditableAccount\n                user={props.user}\n                open={editableAccountDialog}\n                onClose={handleEditableAccountDialog}\n                updateUser={props.updateUser}\n            />\n            <AddPyamentMethodDialog\n                open={addPaymentMethodDialog}\n                onClose={handleAddPaymentMethod}\n                addPaymentMethod={addPaymentMethod}\n                handleChange={handleChange}\n                handlePaymentTypeSelection={handlePaymentTypeSelection}\n                card={card}\n            />\n            <OrderDialog\n                open={orderDialog}\n                onClose={handleOrderDialog}\n                order={order}\n            />\n            Username: {props.user ? props.user.username : null}<br/>\n            Email: {props.user ? props.user.email : null}<br/><br/>\n            Address:<br/>\n            -City: {props.user.address.city}<br/>\n            -Country: {props.user.address.country}<br/>\n            -Line 1: {props.user.address.line1}<br/>\n            -Number: {props.user.address.number}<br/>\n            -Postcode: {props.user.address.postcode}<br/>\n            -Region: {props.user.address.region}<br/><br/>\n            Payment Methods: {props.user.payment_methods.map((pm, index) =>\n                <div>\n                    -{index+1}: {pm.brand}, {`xxxx-xxxx-${pm.last4}`}\n                    <Button onClick={() => deletePaymentMethod(pm)}>delete payment method</Button>\n                </div>\n            )}<br/>\n            <Button onClick={handleAddPaymentMethod}>add payment method</Button><br/><br/>\n            Payment Intents: {props.user.payment_intents.map((pi, index) =>\n                <div>\n                    -{index+1}: {pi.status} <Button onClick={handleOrderDialog}>see order</Button>\n                    {pi.status === 'requires_confirmation'\n                    ? <Button onClick={() => confirmPaymentIntent(pi)}>confirm payment intent</Button>\n                    : null\n                    }\n                </div>\n            )}<br/><br/>\n            <button onClick={deleteAccount}>delete account</button>\n            <button onClick={handleEditableAccountDialog}>edit account</button>\n        </div>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/pizza-margherita.f70cccca.jpeg\";","import React from 'react'\nimport {\n    CardHeader,\n    CardContent,\n    Typography,\n    CardActions,\n    CardMedia,\n    Card\n} from '@mui/material'\nimport img from '../../files/pizza-margherita.jpeg'\n\nexport default function ItemCard(props) {\n    return (\n        <div>\n            <Card sx={{ maxWidth: 345 }}>\n                <CardHeader\n                    title={`Name: ${props.item.name}`}\n                    subheader={`Price: ${props.item.price} ${props.currency}`}\n                />\n                <CardMedia\n                    component=\"img\"\n                    height=\"194\"\n                    image={img}\n                    alt=\"Pizza margherita\"\n                />\n                <CardContent>\n                    <Typography variant=\"h5\">\n                        Category: {props.item.category}\n                    </Typography>\n                    <Typography variant=\"h5\">\n                        Description: {props.item.description}\n                    </Typography>\n                    <Typography variant=\"h5\">\n                        Quantity: {props.item.quantity}\n                    </Typography>\n                </CardContent>\n                <CardActions>\n                    <button onClick={() => props.deleteFromCart(props.item)}>delete from cart</button>\n                </CardActions>\n            </Card>\n        </div>\n    )\n}\n","import { Grid } from '@mui/material'\nimport React from 'react'\nimport ItemCard from './ItemCard'\n\nexport default function Cart(props) {\n    return (\n        <div>\n            {props.cart\n            ?\n            <Grid container spacing={{ xs: 2, md: 3 }} columns={{ xs: 4, sm: 8, md: 12 }}>\n                {props.cart.map(item => (\n                    <Grid item xs={2}>\n                        <ItemCard\n                            item={item}\n                            deleteFromCart={props.deleteFromCart}\n                            currency={props.currency}\n                        />\n                    </Grid>\n                ))}\n            </Grid>\n            : null\n            }\n        </div>\n    )\n}\n","import React from 'react'\nimport {\n    TextField,\n    FormControl,\n    InputLabel,\n    Select,\n    MenuItem\n} from '@mui/material'\nimport axios from 'axios'\nimport AddPyamentMethodDialog from './AddPyamentMethodDialog'\n\nexport default function Checkout(props) {\n    const [addPaymentMethodDialog, setAddPaymentMethodDialog] = React.useState(false)\n    const [paymentTypeSelected, setPaymentTypeSelected] = React.useState('')\n    const [paymentSelected, setPaymentSelected] = React.useState('')\n    const [state, setState] = React.useState({\n        card_number: '',\n        exp_month: '',\n        exp_year: '',\n        cvc: '',\n    })\n\n    const handleChange = (e) => {\n        setState({...state, [e.target.id]: e.target.value})\n    }\n\n    const handlePaymentTypeSelection = (e) => {\n        setPaymentTypeSelected(e.target.value)\n    }\n    \n    const handlePaymentSelection = (e) => {\n        setPaymentSelected(e.target.value)\n    }\n\n    const handleAddPaymentMethodDialog = () => {\n        setAddPaymentMethodDialog(!addPaymentMethodDialog)\n    }\n\n    const addPaymentMethod = async () => {\n        let {card_number, exp_month, exp_year, cvc} = state\n        let card = {\n            number: card_number,\n            exp_month: exp_month,\n            exp_year: exp_year,\n            cvc: cvc,\n        }\n        let type = paymentTypeSelected\n        let res = await axios.post('/users/add-payment-method', {type, card})\n        console.log(res.data)\n    }\n\n    const checkout = async () => {\n        console.log(props.cart)\n        if (props.user) {\n          // if user logged in\n          if (props.user.payment_methods.length === 0) {\n            // if there isn't a payment method\n            // /add-payment-method\n            console.log('user logged in ---> No payment method ---> Add a payment method first')\n            // let res = await axios.post('/users/add-payment-method', {type, card})\n            // console.log(res.data)\n            // updateUser()\n          } else {\n            // if there is a payment method\n            // /create-payment-intent\n            console.log('user logged in ---> Payment method existing ---> Create payment intent')\n            console.log(props.cart.total_cart)\n            console.log(paymentSelected)\n            let res = await axios.post('/users/create-payment-intent', {payment_method: paymentSelected, total_cart: props.cart.total_cart*100})\n            console.log(res.data)\n            let {paymentIntent} = res.data\n            let response = await axios.post('/users/confirm-payment-intent', {payment_intent: paymentIntent})\n            console.log(response.data)\n            props.updateUser()\n            props.handleSelected('user-orders')\n          }\n        } else {\n          // open sign in / sign up\n          console.log('user logged out or not existing -----> sign in/up')\n          props.handleSignInDialog()\n        }\n    }\n    return (\n        <div>\n            <AddPyamentMethodDialog\n                open={addPaymentMethodDialog}\n                onClose={handleAddPaymentMethodDialog}\n                addPaymentMethod={addPaymentMethod}\n                handleChange={handleChange}\n                paymentTypeSelected={paymentTypeSelected}\n                handlePaymentTypeSelection={handlePaymentTypeSelection}\n            />\n            Checkout<br/>\n            Total cart: {props.cart.total_cart} {props.currency}<br/>\n            {props.user\n            ? \n                <div>\n                    <FormControl>\n                        <InputLabel id=\"select-payment-method\">Payment method</InputLabel>\n                        <Select\n                            labelId=\"select-payment-method\"\n                            id=\"select-payment-method\"\n                            value={paymentSelected}\n                            label=\"Payment method\"\n                            onChange={handlePaymentSelection}\n                        >\n                            {props.user.payment_methods.map(pm => (\n                                <MenuItem key={pm.id} value={pm.id}>****{pm.id}</MenuItem>\n                            ))}\n                        </Select>\n                    </FormControl><br/>\n                    {props.user.payment_methods.map(pm => (\n                        pm.id === paymentSelected\n                        ? `Show payment method details for ${pm.id}`\n                        : null\n                    ))}<br/>\n                <button onClick={handleAddPaymentMethodDialog}>add payment method</button><br/>\n                <button onClick={checkout}>confirm checkout</button>\n                </div>\n            :\n                <div>\n                    Please sign in to confirm checkout<br/>\n                    <button onClick={props.handleSignInDialog}>sign in</button>\n                </div>\n            }            \n        </div>\n    )\n}\n","import React from 'react'\nimport axios from 'axios'\n\nexport default function AdminUsersOrders(props) {\n    const acceptOrder = async (order) => {\n        let res = await axios.post('/users/accept-order', {order})\n        console.log(res.data)\n        props.updateUser()\n    }\n\n    const deleteOrder = async (order) => {\n        let res = await axios.post('/users/delete-order', {order})\n        console.log(res.data)\n        props.updateUser()\n    }\n\n    const declineOrder = async (order) => {\n        let res = await axios.post('/users/decline-order', {order})\n        console.log(res.data)\n        props.updateUser()\n    }\n\n    return (\n        <div>\n            Users' orders<br/><br/>\n            {props.user\n            ? props.user.orders.map(order => (\n                <div id={order._id}>\n                    User id: {order.user_id}<br/>\n                    Order id: {order._id}<br/>\n                    Postcode: {order.address.postcode}<br/>\n                    Accepted: {order.accepted ? 'yes' : 'not'}<br/>\n                    {order.items.map(item => (\n                        <div id={item._id}>\n                            Category: {item.category}<br/>\n                            Name: {item.name}<br/>\n                            Price: {item.price}<br/>\n                            Description: {item.description}<br/>\n                            Quantity: {item.quantity}\n                        </div>\n                    ))}<br/>\n                    <button onClick={() => deleteOrder(order)}>delete order</button>\n                    <button onClick={() => acceptOrder(order)}>accept order</button>\n                    <button onClick={() => declineOrder(order)}>decline order</button><br/><br/>\n                </div>\n            ))\n            : null}\n        </div>\n    )\n}\n","import React from 'react'\nimport Orders from './Orders'\n\nexport default function UserOrders(props) {\n    return (\n        <div>\n            User's orders<br/><br/>\n            <Orders\n                user={props.user}\n                currency={props.currency}\n            />\n        </div>\n    )\n}\n","import { Grid } from '@mui/material'\nimport { Typography } from '@mui/material'\nimport { Dialog } from '@mui/material'\nimport React from 'react'\n\nexport default function ItemsDialog(props) {\n    return (\n        <div>\n            <Dialog\n                open={props.open}\n                onClose={props.onClose}\n            >\n                <Grid container rowSpacing={1} columnSpacing={{ xs: 1, sm: 2, md: 3 }}>\n                    {props.items.length != 0\n                    ? props.items.map(item => (\n                        <Grid item xs={8}>\n                            <Typography variant=\"body2\">\n                                Category: {item.category}<br/>\n                            </Typography>\n                            <Typography variant=\"body2\">\n                                Name: {item.name}<br/>\n                            </Typography>\n                            <Typography variant=\"body2\">\n                                Price: {item.price} {props.currency}<br/>\n                            </Typography>\n                            <Typography variant=\"body2\">\n                                Description: {item.description}<br/>\n                            </Typography>\n                            <Typography variant=\"body2\">\n                                Quantity: {item.quantity}\n                            </Typography>\n                        </Grid>\n                    ))\n                    : 'Loading'\n                    }\n                </Grid>\n            </Dialog>\n        </div>\n    )\n}\n","import React, {useEffect} from 'react'\nimport { Dialog } from '@mui/material'\nimport { Typography } from '@mui/material'\nimport { TextField } from '@mui/material'\nimport { Button } from '@mui/material'\n\nimport { io } from 'socket.io-client'\n\nimport axios from 'axios'\n\nconst socket = io()\n\nexport default function MessagesDialog(props) {\n    const [message, setMessage] = React.useState()\n\n    const handleChange = (e) => {\n        setMessage(e.target.value)\n    }\n\n    const sendMessage = async () => {\n        console.log(message)\n        console.log(props.order)\n        // TODO: call endpoint\n        let res = await axios.post('/users/send-msg', {message, order_id: props.order._id})\n        socket.emit('message', {sentBy: props.user.username, text:message})\n        console.log(res.data)\n        props.updateUser()\n        setMessage('')\n    }\n    return (\n        <div>\n            <Dialog\n                open={props.open}\n                onClose={props.onClose}\n            >\n                {props.messages.length != 0\n                ?\n                <div>\n                    {props.messages.map((msg) => (\n                        <div>\n                            <Typography>{msg.username}:</Typography>\n                            <Typography>{msg.text}</Typography>\n                        </div>\n                    ))}\n                </div>\n                : 'No old messages'\n                }\n                {props.chat.length != 0\n                ? props.chat.map((msg) => (\n                    <div>\n                        <Typography>{msg.sentBy}:</Typography>\n                        <Typography>{msg.text}</Typography>\n                    </div>\n                ))\n                : null\n                }\n                <TextField\n                    id='message'\n                    value={message}\n                    onChange={handleChange}\n                />\n                <Button\n                    onClick={sendMessage}\n                >Send</Button>\n            </Dialog>\n        </div>\n    )\n}\n","import React from 'react'\nimport {\n    Card,\n    CardContent,\n    Typography,\n    Button\n} from '@mui/material'\n\nimport { io } from 'socket.io-client'\n\nimport axios from 'axios'\n\nconst socket = io()\n\nexport default function OrderCard(props) {\n    const acceptOrder = async () => {\n        console.log(props.order)\n        let res = await axios.post('/users/accept-order', {order: props.order})\n        console.log(res.data)\n        socket.emit('order_update', {order: props.order})\n        props.updateUser()\n    }\n\n    const declineAndRefundOrder = async () => {\n        console.log(props.order)\n        let res = await axios.post('/users/decline-order', {order: props.order})\n        console.log(res.data)\n        socket.emit('order_update', {order: props.order})\n        props.updateUser()\n    }\n\n    const startDelivery = async () => {\n        let res = await axios.post('/users/start-delivery', {order: props.order})\n        console.log(res.data)\n        socket.emit('order_update', {order: props.order})\n    }\n\n    const endDelivery = async () => {\n        let res = await axios.post('/users/end-delivery', {order: props.order})\n        console.log(res.data)\n        socket.emit('order_update', {order: props.order})\n    }\n\n    return (\n        <div>\n            <Card>\n                <CardContent>\n                    <Typography variant=\"h5\" component=\"div\">\n                        Date\n                    </Typography>\n                    <Typography sx={{ mb: 1.5 }} color=\"text.secondary\">\n                        {props.order.date}\n                    </Typography>\n                    {props.user.admin\n                    ?\n                    <div>\n                        <Typography sx={{ fontSize: 14 }} color=\"text.secondary\" gutterBottom>\n                            User id: {props.order.orderedBy}\n                        </Typography>\n                        <Typography sx={{ fontSize: 14 }} color=\"text.secondary\" gutterBottom>\n                            Order id: {props.order._id}\n                        </Typography>\n                        <Button\n                            onClick={acceptOrder}\n                        >Accept</Button>\n                        <Button\n                            onClick={declineAndRefundOrder}\n                        >Decline/refund</Button>\n                        <Button\n                            onClick={startDelivery}\n                        >Start delivery</Button>\n                        <Button\n                            onClick={endDelivery}\n                        >End delivery</Button>\n                    </div>\n                    :\n                    <div>\n                        <Typography sx={{ fontSize: 14 }} color=\"text.secondary\" gutterBottom>\n                            Order id: {props.order._id}\n                        </Typography>\n                    </div>\n                    }\n                    <Typography variant=\"h5\" component=\"div\">\n                        Shipping method: {props.order.shipping_method}\n                    </Typography>\n                    <Typography variant=\"h5\" component=\"div\">\n                        Address details\n                    </Typography>\n                    <Typography sx={{ mb: 1.5 }} color=\"text.secondary\">\n                        {props.order.address.postcode}, {props.order.address.number}, {props.order.address.line1}, {props.order.address.city}, {props.order.address.region}, {props.order.address.country}\n                    </Typography>\n                    <Typography variant=\"h5\" component=\"div\">\n                        Payment details\n                    </Typography>\n                    <Typography sx={{ mb: 1.5 }} color=\"text.secondary\">\n                        {props.order.payment_intent.status},\n                        {props.order.payment_intent.card ? props.order.payment_intent.card.last4 : props.order.payment_intent.payment_method}\n                    </Typography>\n                    <Typography variant=\"h5\" component=\"div\">\n                        Accepted: {props.order.accepted ? 'yes' : 'not'}\n                    </Typography>\n                    <Typography variant=\"h5\" component=\"div\">\n                        Delivered: {props.order.delivered ? 'yes' : 'not'}\n                    </Typography>\n                    <Typography variant=\"h5\" component=\"div\">\n                        Status: {props.order.status ? props.order.status : 'to be accepted'}\n                    </Typography>\n                    <Typography variant=\"h5\" component=\"div\">\n                        Total amount: {props.order.total_amount/100} {props.currency}\n                    </Typography>\n                    <Button\n                        onClick={() => props.handleItemsDialog(props.order.items)}\n                    >items</Button>\n                    <Button\n                        onClick={() => props.handleMessagesDialog(props.order)}\n                    >Messages</Button>\n                </CardContent>\n            </Card>\n        </div>\n    )\n}\n","import React from 'react'\nimport {\n    Grid,\n    Button,\n    Card,\n    CardContent,\n    Typography,\n    Checkbox,\n    FormGroup,\n    FormControlLabel\n} from '@mui/material'\nimport UserOrders from './UserOrders'\nimport AdminUsersOrders from './AdminUsersOrders'\nimport ItemsDialog from './ItemsDialog'\nimport MessagesDialog from './MessagesDialog'\nimport OrderCard from './OrderCard'\n\nexport default function Orders(props) {\n    const [itemsDialog, setItemsDialog] = React.useState(false)\n    const [messagesDialog, setMessagesDialog] = React.useState(false)\n    const [onlyActive, setOnlyActive] = React.useState(false)\n    const [messages, setMessages] = React.useState([])\n    const [items, setItems] = React.useState([])\n    const [order, setOrder] = React.useState()\n\n    const handleItemsDialog = (items) => {\n        if (!itemsDialog) {\n            setItems(items)\n        }\n        setItemsDialog(!itemsDialog)\n    }\n\n    const handleMessagesDialog = (order) => {\n        if (!messagesDialog) {\n            setOrder(order)\n            setMessages(order.messages)\n        }\n        setMessagesDialog(!messagesDialog)\n    }\n\n    const handleOnlyActive = () => {\n        setOnlyActive(!onlyActive)\n    }\n    \n    return (\n        <div>\n            <ItemsDialog\n                open={itemsDialog}\n                onClose={handleItemsDialog}\n                items={items}\n                currency={props.currency}\n            />\n            <MessagesDialog\n                open={messagesDialog}\n                onClose={handleMessagesDialog}\n                messages={messages}\n                setMessages={setMessages}\n                order={order}\n                updateUser={props.updateUser}\n                user={props.user}\n                chat={props.chat}\n            />\n            {props.user\n            ? props.user.admin\n                ? '<AdminUsersOrders orders={props.user.orders}/>'\n                : '<UserOrders orders={props.user.orders}/>'\n            : 'Loading'\n            }\n            <FormGroup>\n                <FormControlLabel\n                    control={<Checkbox\n                                checked={onlyActive}\n                                onChange={handleOnlyActive}\n                            />}\n                    label='Show only active'\n                />\n            </FormGroup>\n            <Grid container rowSpacing={1} columnSpacing={{ xs: 1, sm: 2, md: 3 }}>\n                {props.user && props.orders\n                ? props.orders.map(order => (                    \n                    <Grid item xs={6}>\n                        {onlyActive\n                        ? !order.accepted\n                            ? \n                            <OrderCard\n                                user={props.user}\n                                order={order}\n                                handleItemsDialog={handleItemsDialog}\n                                handleMessagesDialog={handleMessagesDialog}\n                                currency={props.currency}\n                                updateUser={props.updateUser}\n                            />\n                            : null\n                        :\n                        <OrderCard\n                            user={props.user}\n                            order={order}\n                            handleItemsDialog={handleItemsDialog}\n                            handleMessagesDialog={handleMessagesDialog}\n                            currency={props.currency}\n                            updateUser={props.updateUser}\n                        />\n                        }\n                    </Grid>\n                ))\n                : null}\n                {props.newOrders.length != 0\n                ? props.newOrders.map(order => (\n                    <Grid item xs={6}>\n                        <OrderCard\n                            user={props.user}\n                            order={order}\n                            handleItemsDialog={handleItemsDialog}\n                            handleMessagesDialog={handleMessagesDialog}\n                            currency={props.currency}\n                            updateUser={props.updateUser}\n                        />\n                    </Grid>\n                ))\n                : null\n                }\n            </Grid>\n        </div>\n    )\n}\n","import React from 'react'\nimport {\n    TextField,\n    Dialog\n} from '@mui/material'\n\nexport default function AddProductDialog(props) {\n    return (\n        <div>\n            <Dialog onClose={props.onClose} open={props.open}>\n                <TextField\n                    onChange={props.onChange}\n                    id=\"category\"\n                    label=\"Category\"\n                    name=\"category\"\n                />\n                <TextField\n                    onChange={props.onChange}\n                    id=\"name\"\n                    label=\"Name\"\n                    name=\"name\"\n                />\n                <TextField\n                    onChange={props.onChange}\n                    id=\"price\"\n                    label=\"Price\"\n                    name=\"price\"\n                />\n                <TextField\n                    onChange={props.onChange}\n                    id=\"description\"\n                    label=\"Description\"\n                    name=\"description\"\n                />                \n                <button onClick={props.addProductToProductsList}>add item</button>\n                <button onClick={props.onClose}>close</button>\n            </Dialog>\n        </div>\n    )\n}\n","import React from 'react'\nimport {\n    Card,\n    CardActions,\n    CardContent,\n    CardHeader,\n    CardMedia\n} from '@mui/material'\nimport img from '../../files/pizza-margherita.jpeg'\n\nexport default function AdminProductCard(props) {\n    return (\n        <div>\n            <Card sx={{ maxWidth: 345 }}>\n                <CardHeader\n                    title={`Name: ${props.product.name}`}\n                    subheader={`Price: ${props.product.price}`}\n                />\n                <CardMedia\n                    component=\"img\"\n                    height=\"194\"\n                    image={img}\n                    alt=\"Pizza margherita\"\n                />\n                <CardContent>\n                    Description: {props.product.description}\n                </CardContent>\n                <CardActions>\n                    <button onClick={props.handleEditProduct}>edit product</button>\n                    <button onClick={() => props.deleteProductFromProductsList(props.product)}>delete product</button>\n                </CardActions>\n            </Card>\n        </div>\n    )\n}\n","import React from 'react'\nimport {\n    Card,\n    CardActions,\n    CardContent,\n    CardHeader,\n    CardMedia,\n    TextField\n} from '@mui/material'\nimport img from '../../files/pizza-margherita.jpeg'\n\nexport default function EditableProductCard(props) {\n    return (\n        <div>\n            <Card sx={{ maxWidth: 345 }}>\n                <CardHeader\n                    title={ <TextField\n                                id='name'\n                                label='Name'\n                                onChange={props.handleChange}\n                            />}\n                    subheader={ <TextField\n                                    id='price'\n                                    label='Price'\n                                    onChange={props.handleChange}\n                                />}\n                />\n                <CardMedia\n                    component=\"img\"\n                    height=\"194\"\n                    image={img}\n                    alt=\"Pizza margherita\"\n                />\n                <CardContent>\n                    <TextField\n                        id='description'\n                        label='Description'\n                        onChange={props.handleChange}\n                    />\n                    <TextField\n                        id='category'\n                        label='Category'\n                        onChange={props.handleChange}\n                    />\n                </CardContent>\n                <CardActions>\n                    <button onClick={() => props.editProductList(props.product)}>confirm</button>\n                    <button onClick={() => props.deleteProduct(props.product)}>delete</button>\n                    <button onClick={props.handleEditable}>cancel</button>\n                    <button>upload new image</button>\n                </CardActions>\n            </Card>\n        </div>\n    )\n}\n","import React, {useEffect} from 'react'\nimport {\n    TextField,\n    Grid,\n\n} from '@mui/material'\nimport AddProductDialog from '../AdminDashboard/AddProductDialog'\nimport axios from 'axios'\nimport AdminProductCard from './AdminProductCard'\nimport EditableProductCard from './EditableProductCard'\n\nexport default function AdminProductsList(props) {\n    const [editProduct, setEditProduct] = React.useState(false)\n    const [addProductDialog, setAddproductDialog] = React.useState(false)\n    const [categories, setCategories] = React.useState([])\n    const [state, setState] = React.useState()\n\n    const handleEditProduct = () => {\n        setEditProduct(!editProduct)\n    }\n\n    const handleAddProductDialog = () => {\n        setAddproductDialog(!addProductDialog)\n    }\n\n    const editProductList = async (item) => {\n        console.log('edit product')\n        let {category, name, price, description} = state\n        let product = {_id:item._id, category, name, price, description}\n        let res = await axios.post('/users/edit-item-in-products-list', {product})\n        console.log(res.data)\n        props.updateProductsList()\n    }\n\n    const addProductToProductsList = async () => {\n        console.log('add product')\n        let product = {\n            name: state.name,\n            category: state.category,\n            description: state.description,\n            price: state.price\n        }\n        let res = await axios.post('/users/add-item-to-products-list', {product})\n        console.log(res.data)\n        props.updateProductsList()\n        handleAddProductDialog()\n    }\n\n    const deleteProductFromProductsList = async (product) => {\n        let res = await axios.post('/users/delete-item-from-products-list', {product})\n        console.log(res.data)\n        props.updateProductsList()\n    }\n\n    const handleChange = (e) => {\n        setState({...state, [e.target.id]: e.target.value})\n    }\n\n    const getCategories = () => {\n        let result = []\n        props.productsList.forEach(product => {\n            if (result.length === 0) {\n                result.push(product.category)\n            } else if (result[result.length -1] != product .category) {\n                result.push(product.category)\n            }\n        })\n        return result\n    }\n\n    useEffect(() => {\n        let categories = getCategories()\n        setCategories(categories)\n    }, [])\n\n    return (\n        <div>\n            <AddProductDialog\n                open={addProductDialog}\n                onClose={handleAddProductDialog}\n                addProductToProductsList={addProductToProductsList}\n                onChange={handleChange}\n            />\n            Admin products list<br/>\n            <button onClick={handleAddProductDialog}>add product</button><br/>\n            {categories\n            ? categories.map(category => (\n                <div>\n                    {category}\n                    <Grid container>\n                        {props.productsList\n                        ? props.productsList.map((product) => (\n                            product.category === category\n                            ?   <div key={product._id}>\n                                {editProduct\n                                ?   <EditableProductCard\n                                        product={product}\n                                        editProductList={editProductList}\n                                        handleEditProduct={handleEditProduct}\n                                    />\n                                :   <div><AdminProductCard\n                                        product={product}\n                                        handleEditProduct={handleEditProduct}\n                                    /><br/></div>\n                                }\n                                </div>\n                            : null))\n                        : null\n                        }\n                    </Grid>\n                </div>\n            ))\n            : null\n            }\n            {props.productsList\n            ?  editProduct\n                ? props.productsList.map((product) => (\n                    <div key={product._id}>\n                        <TextField\n                            id='category'\n                            label='Category'\n                            onChange={handleChange}\n                        /><br/>\n                        <TextField\n                            id='name'\n                            label='Name'\n                            onChange={handleChange}\n                        /><br/>\n                        <TextField\n                            id='price'\n                            label='Price'\n                            onChange={handleChange}\n                        /><br/>\n                        <TextField\n                            id='description'\n                            label='Description'\n                            onChange={handleChange}\n                        /><br/>\n                        Category: {product.category}<br/>\n                        Name: {product.name}<br/>\n                        Price: {product.price}<br/>\n                        Description: {product.description}<br/>\n                        <button onClick={() => editProductList(product)}>edit</button>\n                        <button onClick={handleEditProduct}>cancel</button>\n                    </div>))\n                : props.productsList.map((product) => (\n                <div key={product._id}>\n                    Category: {product.category}<br/>\n                    Name: {product.name}<br/>\n                    Price: {product.price}<br/>\n                    Description: {product.description}<br/>\n                    <button onClick={handleEditProduct}>edit product</button>\n                    <button onClick={() => deleteProductFromProductsList(product)}>delete product</button><br/>\n                </div>))\n            : null}\n        </div>\n    )\n}\n","import React from 'react'\nimport {\n    Card,\n    CardActions,\n    CardContent,\n    CardHeader,\n    CardMedia\n} from '@mui/material'\nimport img from '../../files/pizza-margherita.jpeg'\n\nexport default function ProductCard(props) {\n    return (\n        <div>\n            <Card sx={{ maxWidth: 345 }}>\n                <CardHeader\n                    title={`Name: ${props.product.name}`}\n                    subheader={`Price: ${props.product.price} ${props.currency}`}\n                />\n                <CardMedia\n                    component=\"img\"\n                    height=\"194\"\n                    image={img}\n                    alt=\"Pizza margherita\"\n                />\n                <CardContent>\n                    Description: {props.product.description}\n                </CardContent>\n                <CardActions>\n                    Quantity: {props.product.quantity}\n                    <button onClick={() => props.addToCart(props.product)}>add to cart</button>\n                </CardActions>\n            </Card>\n        </div>\n    )\n}\n","import React, {useEffect} from 'react'\nimport axios from 'axios'\nimport ProductCard from './ProductCard'\nimport { Grid } from '@mui/material'\nimport { Typography } from '@mui/material'\nimport { Button } from '@mui/material'\nimport EditableProductCard from './EditableProductCard'\nimport { SettingsInputAntennaTwoTone } from '@mui/icons-material'\nimport AddProductDialog from '../AdminDashboard/AddProductDialog'\n\nexport default function ProductsList(props) {\n    const [editable, setEditable] = React.useState(false)\n    const [addProductDialog, setAddproductDialog] = React.useState(false)\n    const [state, setState] = React.useState()\n\n    const handleAddProductDialog = () => {\n        setAddproductDialog(!addProductDialog)\n    }\n\n    const handleEditable = () => {\n        setEditable(!editable)\n    }\n\n    const editProductList = async (product) => {\n        console.log('edit')\n        console.log(state)\n        console.log(product)\n        let new_product = {\n            _id: product._id,\n            name: state.name,\n            category: state.category,\n            description: state.description,\n            price: state.price\n        }\n        let res = await axios.post('/users/edit-product', {product: new_product})\n        console.log(res.data)\n        props.updateProductsList()\n        handleEditable()\n    }\n\n    const deleteProduct = async (product) => {\n        let res = await axios.post('/users/delete-product', {product})\n        console.log(res.data)\n        props.updateProductsList()\n    }\n\n    const handleChange = (e) => {\n        setState({...state, [e.target.id]: e.target.value})\n    }\n\n    const addProductToProductsList = async () => {\n        console.log('add product')\n        let product = {\n            name: state.name,\n            category: state.category,\n            description: state.description,\n            price: state.price\n        }\n        let res = await axios.post('/users/add-product', {product})\n        console.log(res.data)\n        props.updateProductsList()\n        handleAddProductDialog()\n    }\n\n    return (\n        <div>\n            <AddProductDialog\n                open={addProductDialog}\n                onClose={handleAddProductDialog}\n                addProductToProductsList={addProductToProductsList}\n                onChange={handleChange}\n            />\n            {props.user && props.user.admin\n            ?\n            <div>\n                <Button\n                    onClick={handleEditable}\n                >Edit</Button>\n                <Button\n                    onClick={handleAddProductDialog}\n                >Add product</Button>\n            </div>\n            : null\n            }\n            <Grid container direction='column' spacing={{ xs: 2, md: 3 }} columns={{ xs: 4, sm: 8, md: 12 }}>\n            {props.productsList.map((item, index) => (\n                <Grid item container xs={2} sm={4} md={4} key={index}>\n                    {index} {item.category}\n                    <Grid container spacing={{ xs: 2, md: 3 }} columns={{ xs: 4, sm: 8, md: 12 }}>\n                        {item.products.map((product, i) => (\n                        <Grid item xs={2}>\n                            {editable\n                            ?\n                            <EditableProductCard\n                                handleChange={handleChange}\n                                handleEditable={handleEditable}\n                                deleteProduct={deleteProduct}\n                                editProductList={editProductList}\n                                currency={props.currency}\n                                product={product}\n                            />\n                            :\n                            <ProductCard\n                                product={product}\n                                addToCart={props.addToCart}\n                                currency={props.currency}\n                            />\n                            }\n                        </Grid>\n                        ))}\n                    </Grid>\n                </Grid>\n            ))}\n            </Grid>\n        </div>\n    )\n}\n","import React from 'react'\nimport Account from '../../Account/Account'\nimport Cart from '../../Cart/Cart'\nimport Checkout from '../../Checkout/Checkout'\nimport AdminUsersOrders from '../../Orders/AdminUsersOrders'\nimport Orders from '../../Orders/Orders'\nimport UserOrders from '../../Orders/UserOrders'\nimport AdminProductsList from '../../ProductsList/AdminProductsList'\nimport ProductsList from '../../ProductsList/ProductsList'\n\nexport default function Body(props) {\n    if (props.selected === 'products') {\n        return(\n            <div>\n                {props.user ? `Hello ${props.user.username}` : null}\n                <ProductsList\n                    addToCart={props.addToCart}\n                    productsList={props.productsList}\n                    updateProductsList={props.updateProductsList}\n                    categories={props.categories}\n                    user={props.user}\n                    currency={props.currency}\n                />\n            </div>\n        )\n    } else if (props.selected === 'cart') {\n        return(\n            <div>\n                <Cart\n                    cart={props.cart}\n                    deleteFromCart={props.deleteFromCart}\n                    handleSelected={props.handleSelected}\n                    checkout={props.checkout}\n                    currency={props.currency}\n                />\n            </div>\n        )\n    } else if (props.selected === 'user-orders') {\n        return(\n            <div>\n                <UserOrders\n                    user={props.user}\n                    currency={props.currency}\n                />\n            </div>\n        )\n    } else if (props.selected === 'admin-products-list') {\n        return(\n            <div>\n                {props.user ? `Hello ${props.user.username}` : null}\n                <AdminProductsList\n                    updateUser={props.updateUser}\n                    productsList={props.productsList}\n                    updateProductsList={props.updateProductsList}\n                />\n            </div>\n        )\n    } else if (props.selected === 'admin-users-orders') {\n        return(\n            <div>\n                <AdminUsersOrders\n                    user={props.user}\n                    updateUser={props.updateUser}\n                />\n            </div>\n        )\n    } else if (props.selected === 'checkout') {\n        return(\n            <div>\n                <Checkout\n                    cart={props.cart}\n                    user={props.user}\n                    updateUser={props.updateUser}\n                    handleSelected={props.handleSelected}\n                    handleSignInDialog={props.handleSignInDialog}\n                    currency={props.currency}\n                />\n            </div>\n        )\n    } else if (props.selected === 'account') {\n        return(\n            <div>\n                <Account\n                    user={props.user}\n                    updateUser={props.updateUser}\n                    currency={props.currency}\n                    orders={props.orders}\n                />\n            </div>\n        )\n    } else if (props.selected === 'orders') {\n        return(\n            <div>\n                <Orders\n                    user={props.user}\n                    orders={props.orders}\n                    updateUser={props.updateUser}\n                    chat={props.chat}\n                    newOrders={props.newOrders}\n                />\n            </div>\n        )\n    }\n}\n","import React from 'react'\n\nexport default function Footer(props) {\n    return (\n        <div>\n            <button onClick={() => props.handleSelected('cart')}>cart {'total'}</button>\n            <button onClick={() => props.handleSelected('products-list')}>products list</button>\n            <button onClick={() => props.handleSelected('cart')}>checkout</button>\n        </div>\n    )\n}\n","import React from 'react'\nimport {\n    Avatar,\n    Button,\n    CssBaseline,\n    TextField,\n    FormControlLabel,\n    Checkbox,\n    Link,\n    Grid,\n    Box,\n    Typography,\n    Container\n} from '@mui/material'\nimport { createTheme, ThemeProvider } from '@mui/material/styles'\n\nfunction Copyright(props) {\n    return (\n        <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" {...props}>\n            {'Copyright © '}\n            <Link color=\"inherit\" href=\"https://tksbalti.uk\">\n                Tk's Balti\n            </Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    )\n}\n\nconst theme = createTheme()\n\nexport default function SignIn(props) {\n    return (\n        <div>\n            <ThemeProvider theme={theme}>\n            <Container component=\"main\" maxWidth=\"xs\">\n                <CssBaseline />\n                <Box\n                    sx={{\n                        marginTop: 8,\n                        display: 'flex',\n                        flexDirection: 'column',\n                        alignItems: 'center',\n                    }}\n                >\n                    <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\n                    </Avatar>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        Sign in\n                    </Typography>\n                    <Box noValidate sx={{ mt: 1 }}>\n                        <TextField\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            id=\"email\"\n                            label=\"Email Address\"\n                            name=\"email\"\n                            autoComplete=\"email\"\n                            autoFocus\n                            onChange={props.handleChange}\n                        />\n                        <TextField\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            name=\"password\"\n                            label=\"Password\"\n                            type=\"password\"\n                            id=\"password\"\n                            autoComplete=\"current-password\"\n                            onChange={props.handleChange}\n                        />\n                        <FormControlLabel\n                            control={<Checkbox value=\"remember\" color=\"primary\" />}\n                            label=\"Remember me\"\n                        />\n                        <Button\n                            type=\"submit\"\n                            fullWidth\n                            variant=\"contained\"\n                            sx={{ mt: 3, mb: 2 }}\n                            onClick={props.signIn}\n                        >\n                        Sign In\n                        </Button>\n                        <Grid container>\n                            <Grid item xs>\n                                <Link href=\"#\" variant=\"body2\">\n                                    Forgot password?\n                                </Link>\n                            </Grid>\n                            <Grid item>\n                                <Link href=\"#\" variant=\"body2\" onClick={() => {\n                                        props.handleSignInDialog()\n                                        props.handleSignUpDialog()\n                                    }}>\n                                    Don't have an account? Sign Up\n                                </Link>\n                            </Grid>\n                        </Grid>\n                    </Box>\n                </Box>\n                <Copyright sx={{ mt: 8, mb: 4 }} />\n            </Container>\n            </ThemeProvider>\n        </div>\n    )\n}\n","import React from 'react'\nimport {\n    Dialog\n} from '@mui/material'\nimport SignIn from './SignIn'\n\n\nexport default function SignInDialog(props) {\n    return (\n        <div>\n            <Dialog\n                open={props.open}\n                onClose={props.onClose}\n            >\n                <SignIn\n                    signIn={props.signIn}\n                    handleChange={props.handleChange}\n                    handleSignInDialog={props.handleSignInDialog}\n                    handleSignUpDialog={props.handleSignUpDialog}\n                />                \n                {/* <button onClick={() => {\n                    props.handleSignInDialog()\n                    props.handleSignUpDialog()\n                }}>open sign up</button> */}\n            </Dialog>\n        </div>\n    )\n}\n","import * as React from 'react'\nimport Avatar from '@mui/material/Avatar'\nimport Button from '@mui/material/Button'\nimport CssBaseline from '@mui/material/CssBaseline'\nimport TextField from '@mui/material/TextField'\nimport FormControlLabel from '@mui/material/FormControlLabel'\nimport Checkbox from '@mui/material/Checkbox'\nimport Link from '@mui/material/Link'\nimport Grid from '@mui/material/Grid'\nimport Box from '@mui/material/Box'\nimport Typography from '@mui/material/Typography'\nimport Container from '@mui/material/Container'\nimport { createTheme, ThemeProvider } from '@mui/material/styles'\n\nfunction Copyright(props) {\n  return (\n    <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" {...props}>\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"https://mui.com/\">\n        Your Website\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  )\n}\n\nconst theme = createTheme()\n\nexport default function SignUp(props) {\n  return (\n    <ThemeProvider theme={theme}>\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <Box\n          sx={{\n            marginTop: 8,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n          <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign up\n          </Typography>\n          <Box  noValidate sx={{ mt: 3 }}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  autoComplete=\"given-name\"\n                  name=\"firstName\"\n                  required\n                  fullWidth\n                  id=\"firstName\"\n                  label=\"First Name\"\n                  autoFocus\n                  onChange={props.handleChange}\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  required\n                  fullWidth\n                  id=\"lastName\"\n                  label=\"Last Name\"\n                  name=\"lastName\"\n                  autoComplete=\"family-name\"\n                  onChange={props.handleChange}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  required\n                  fullWidth\n                  id=\"email\"\n                  label=\"Email Address\"\n                  name=\"email\"\n                  autoComplete=\"email\"\n                  onChange={props.handleChange}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  required\n                  fullWidth\n                  name=\"password\"\n                  label=\"Password\"\n                  type=\"password\"\n                  id=\"password\"\n                  autoComplete=\"new-password\"\n                  onChange={props.handleChange}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  required\n                  fullWidth\n                  name=\"password2\"\n                  label=\"Password\"\n                  type=\"password\"\n                  id=\"password2\"\n                  autoComplete=\"new-password2\"\n                  onChange={props.handleChange}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <FormControlLabel\n                  control={<Checkbox value=\"allowExtraEmails\" color=\"primary\" />}\n                  label=\"I want to receive inspiration, marketing promotions and updates via email.\"\n                />\n              </Grid>\n            </Grid>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n              onClick={props.signUp}\n            >\n              Sign Up\n            </Button>\n            <Grid container justifyContent=\"flex-end\">\n              <Grid item>\n                <Link href=\"#\" variant=\"body2\" onClick={() => {\n                        props.handleSignInDialog()\n                        props.handleSignUpDialog()\n                    }}>\n                  Already have an account? Sign in\n                </Link>\n              </Grid>\n            </Grid>\n          </Box>\n        </Box>\n        <Copyright sx={{ mt: 5 }} />\n      </Container>\n    </ThemeProvider>\n  )\n}","import { Dialog } from '@mui/material'\nimport React from 'react'\nimport SignUp from './SignUp'\n\nexport default function SignUpDialog(props) {\n    return (\n        <div>\n            <Dialog\n                open={props.open}\n                onClose={props.onClose}\n            >\n                <SignUp\n                    signUp={props.signUp}\n                    handleChange={props.handleChange}\n                    handleSignInDialog={props.handleSignInDialog}\n                    handleSignUpDialog={props.handleSignUpDialog}\n                />\n                {/* <button onClick={() => {\n                        props.handleSignInDialog()\n                        props.handleSignUpDialog()\n                }}>open sign in</button> */}\n            </Dialog>\n        </div>\n    )\n}\n","export const user_demo = {\n    _id: \"1\",\n    email: \"foo@gmail.com\",\n    username: \"foo\",\n    customer_id: \"cus_Kkb5hYEUsySlpA\",\n    cart: [],\n    admin: false,\n    firstName: 'foo',\n    lastName: 'the first',\n    address: {\n        postcode: \"b1\",\n        line1: \"streat\",\n        number: 2,\n        city: \"birm\",\n        region: \"wm\",\n        country: \"uk\"\n    },\n    payment_methods: [{\n        cardName: \"foo\",\n        id: \"pm_1\",\n        fingerprint: \"???\", // REVIEW: do I need it?\n        last4: 4242,\n        country: \"US\",\n        exp_month: 3,\n        exp_year: 2023,\n        brand: \"visa\",\n        _id: \"1\"\n    }],\n    payment_intents: [{\n        id: \"pi_3KBe7GAlUKnrAXrl1XseVP2y\",\n        status: \"requires_confirmation\",\n        payment_method: \"pm_1K5AEdAlUKnrAXrlK1cs7jFt\"\n    }],\n    orders: [{\n        order_id: \"61caf8ce6dc16e80fdd427d9\",\n        payment_intent: {\n            id: \"pi_3KBe7GAlUKnrAXrl1XseVP2y\",\n            status: \"requires_confirmation\",\n            payment_method: \"pm_1K5AEdAlUKnrAXrlK1cs7jFt\"\n        },\n        total_amount: 2700,\n        address: {\n            postcode: \"b1\",\n            line1: \"streat\",\n            number: 2,\n            city: \"birm\",\n            region: \"wm\",\n            country: \"uk\"\n        },\n        items: [{\n            _id: \"618404787e861994a3063443\",\n            name: \"pizza\",\n            price: 10,\n            description: \"pizza margherita\",\n            category: \"main\",\n            quantity: 1\n        }],\n        accepted: true,\n        _id: \"61caf8ce6dc16e80fdd427db\",\n        modifications: [{\n            username: \"foo\",\n            text: \"I'm allergic to mushrooms\",\n            _id: \"61caf8ec6dc16e80fdd4280a\"\n        }]\n    },{\n        order_id: \"61caf8ce6dc16e80fdd427d1\",\n        payment_intent: {\n            id: \"pi_3KBe7GAlUKnrAXrl1XseVP2y\",\n            status: \"requires_confirmation\",\n            payment_method: \"pm_1K5AEdAlUKnrAXrlK1cs7jFt\"\n        },\n        total_amount: 2700,\n        address: {\n            postcode: \"b1\",\n            line1: \"streat\",\n            number: 2,\n            city: \"birm\",\n            region: \"wm\",\n            country: \"uk\"\n        },\n        items: [{\n            _id: \"618404787e861994a3063443\",\n            name: \"pizza\",\n            price: 10,\n            description: \"pizza margherita\",\n            category: \"main\",\n            quantity: 1\n        }],\n        accepted: true,\n        _id: \"61caf8ce6dc16e80fdd427db\",\n        modifications: [{\n            username: \"foo\",\n            text: \"I'm allergic to mushrooms\",\n            _id: \"61caf8ec6dc16e80fdd4280a\"\n        }]\n    },{\n        order_id: \"61caf8ce6dc16e80fdd427d2\",\n        payment_intent: {\n            id: \"pi_3KBe7GAlUKnrAXrl1XseVP2y\",\n            status: \"requires_confirmation\",\n            payment_method: \"pm_1K5AEdAlUKnrAXrlK1cs7jFt\"\n        },\n        total_amount: 2700,\n        address: {\n            postcode: \"b1\",\n            line1: \"streat\",\n            number: 2,\n            city: \"birm\",\n            region: \"wm\",\n            country: \"uk\"\n        },\n        items: [{\n            _id: \"618404787e861994a3063443\",\n            name: \"pizza\",\n            price: 10,\n            description: \"pizza margherita\",\n            category: \"main\",\n            quantity: 1\n        }],\n        accepted: true,\n        _id: \"61caf8ce6dc16e80fdd427db\",\n        modifications: [{\n            username: \"foo\",\n            text: \"I'm allergic to mushrooms\",\n            _id: \"61caf8ec6dc16e80fdd4280a\"\n        }]\n    },{\n        order_id: \"61caf8ce6dc16e80fdd427d3\",\n        payment_intent: {\n            id: \"pi_3KBe7GAlUKnrAXrl1XseVP2y\",\n            status: \"requires_confirmation\",\n            payment_method: \"pm_1K5AEdAlUKnrAXrlK1cs7jFt\"\n        },\n        total_amount: 2700,\n        address: {\n            postcode: \"b1\",\n            line1: \"streat\",\n            number: 2,\n            city: \"birm\",\n            region: \"wm\",\n            country: \"uk\"\n        },\n        items: [{\n            _id: \"618404787e861994a3063443\",\n            name: \"pizza\",\n            price: 10,\n            description: \"pizza margherita\",\n            category: \"main\",\n            quantity: 1\n        }],\n        accepted: true,\n        _id: \"61caf8ce6dc16e80fdd427db\",\n        modifications: [{\n            username: \"foo\",\n            text: \"I'm allergic to mushrooms\",\n            _id: \"61caf8ec6dc16e80fdd4280a\"\n        }]\n    }]\n}\n\nexport default user_demo","export const admin_demo = {\n    _id: \"admin_id\",\n    email: \"admin@gmail.com\",\n    username: \"admin\",\n    customer_id: \"cus_admin_id\",\n    cart: [],\n    admin: true,\n    address: {\n        postcode: \"b1\",\n        line1: \"streat\",\n        number: 2,\n        city: \"birm\",\n        region: \"wm\",\n        country: \"uk\"\n    },\n    payment_methods: [{\n        cardName: \"admin\",\n        id: \"pm_admin\",\n        fingerprint: \"???\", // REVIEW: do I need it?\n        last4: 4242,\n        country: \"US\",\n        exp_month: 3,\n        exp_year: 2023,\n        brand: \"visa\",\n        _id: \"2\"\n    }],\n    payment_intents: [],\n    orders: [{\n        user_id : \"6234c8e19ee3119718d4dc08\",\n        total_amount: 2700,\n        payment_intent : {\n            id: \"pi_3Kek7dAlUKnrAXrl042AlrTI\",\n            status : \"succeeded\",\n            payment_method : \"pm_1Kek7FAlUKnrAXrlZd9wQAQm\",\n            _id : \"6234c92b9ee3119718d4dd1c\"\n        },\n        address: {\n            postcode: \"b1\",\n            line1: \"streat\",\n            number: 2,\n            city: \"birm\",\n            region: \"wm\",\n            country: \"uk\"\n        },\n        items : [\n            {\n                _id : \"618405197e861994a30726c8\",\n                name : \"pizza\",\n                price : 10,\n                description : \"peperoni\",\n                category : \"main\",\n                quantity : 1\n            },\n            {\n                _id : \"61a61a0fcad8e22d8c495760\",\n                name : \"Lamb tikka\",\n                price : 3.5,\n                description : \"tender pieces of lamb\",\n                category : \"starters\",\n                quantity : 2\n            }\n        ],\n        accepted : false,\n        delivered : false,\n        _id : \"6234c9159ee3119718d4dc95\",\n        modifications : [ ]\n    }]\n}\n\nexport default admin_demo","import React, {useEffect} from 'react'\nimport { ThemeProvider, createTheme } from '@mui/material/styles'\nimport { Grid } from '@mui/material'\nimport axios from 'axios'\nimport './App.css'\nimport Header from './Components/Layout/Header/Header'\nimport Body from './Components/Layout/Body/Body'\nimport Footer from './Components/Layout/Footer/Footer'\nimport SignInDialog from './Components/Forms/SignInDialog'\nimport SignUpDialog from './Components/Forms/SignUpDialog'\n\nimport { io } from 'socket.io-client'\n\nimport {user_demo} from './js/user_demo'\nimport {admin_demo} from './js/admin_demo'\nimport { Paper } from '@mui/material'\n\nconst socket = io()\n\nfunction App() {\n  const [state, setState] = React.useState({\n    user: null\n  })\n  const [orders, setOrders] = React.useState()\n  const [theme, setTheme] = React.useState('dark')\n  const [currency, setCurrency] = React.useState('GBP')\n  const [demo, setDemo] = React.useState('live-account')\n  const [productsList, setProductsList] = React.useState([])\n  const [categories, setCategories] = React.useState([])\n  const [cart, setCart] = React.useState([])\n  const [selected, setSelected] = React.useState('products')\n  const [menuList, setMenuList] = React.useState(false)\n  const [anchorEl, setAnchorEl] = React.useState(null)\n  const [signUpDialog, setSignUpDialog] = React.useState(false)\n  const [signInDialog, setSignInDialog] = React.useState(false)\n  const [chat, setChat] = React.useState([])\n  const [newOrders, setNewOrders] = React.useState([])\n  const [notifications, setNotifications] = React.useState([])\n\n  const myTheme = createTheme({\n    palette: {\n      mode: theme === 'dark'\n      ? 'dark'\n      : 'light'\n    },\n  })\n\n  const handleSignInDialog = () => {\n    setSignInDialog(!signInDialog)\n  }\n\n  const handleSignUpDialog = () => {\n    setSignUpDialog(!signUpDialog)\n  }\n\n  const handleMenuList = (e) => {\n    setMenuList(!menuList)\n    setAnchorEl(e.currentTarget)\n  }\n\n  const handleSelected = (elm) => {\n    setSelected(elm)\n    setMenuList(false)\n  }\n\n  const createList = (productsList) => {\n    let result = productsList.reduce((acc, d) => {\n      const found = acc.find(a => a.category === d.category)\n      //const value = { category: d.category, val: d.value }\n      const value = d // the element in data property\n      if (!found) {\n        //acc.push(...value)\n        acc.push({category:d.category, products: [value]}) // not found, so need to add products property\n      }\n      else {\n        //acc.push({ category: d.category, products: [{ value: d.value }, { name: d.name }] })\n        found.products.push(value) // if found, that means products property exists, so just push new element to found.data.\n      }\n      return acc\n    }, [])\n    return result\n  }\n\n  const updateProductsList = async () => {\n    let res = await axios.get('/users/update-products-list')\n    let categories = getCategories(res.data.products)\n    let list = createList(res.data.products)\n    console.log(list)\n    setCategories(categories)\n    setProductsList(list)\n  }\n\n  const updateUserOrders = async () => {\n    let res = await axios.get('/user/orders')\n    console.log(res.data)\n    setOrders(res.data.orders)\n  }\n\n  const updateUser = async () => {\n    if (demo === 'user-demo') {\n      setState({...state, user: user_demo})\n    } else if (demo === 'admin-demo') {\n      setState({...state, user: admin_demo})\n    } else {\n      let res = await axios.get('/users/')\n      console.log(res.data)\n      // updateUserOrders()\n      setOrders(res.data.orders)\n      setState({...state, user: res.data.user})\n    }\n  }\n\n  const signIn = async () => {\n    let { email, password } = state\n    let res = await axios.post('/users/sign-in', {email, password})\n    let { user } = res.data\n    console.log(user)\n    if (user) {\n      setState({...state, user:user})\n      handleSignInDialog()\n      setMenuList(false)\n    }\n  }\n\n  const signUp = async () => {\n    let { email, password, password2 } = state\n    let res = await axios.post('/users/sign-up', {email, password, password2})\n    let { user } = res.data\n    if (user) {\n      setState({...state, user:user})\n      handleSignUpDialog()\n      setMenuList(false)\n    }\n  }\n\n  const signOut = async () => {\n    let res = await axios.get('/users/sign-out')\n    setState({user:null})\n    setSelected('products')\n    setMenuList(false)\n  }\n\n  const handleChange = (e) => {\n    setState({...state, [e.target.id]: e.target.value})\n  }\n\n  const addToCart = async (item) => {\n    let a = cart.slice()\n    console.log(item)\n    if (a.length === 0 || !item.quantity) {\n      item.quantity = 1\n      a.push(item)\n    } else {\n      for (let i = 0; i < a.length; i++) {\n        console.log(i, a[i]._id === item._id)\n        if (a[i]._id === item._id) {\n          a[i].quantity++\n        }\n      }\n    }\n    let total_cart = totalAmountCart(a)\n    a.total_cart = total_cart\n    setCart(a)\n  }\n\n  const deleteFromCart = (item) => {\n    let a = cart.slice()\n    for (let i = 0; i < a.length; i++) {\n      if (a[i]._id === item._id) {\n        if (a[i].quantity === 1) {\n          a[i].quantity = 0\n          a.splice(cart.indexOf(item),1)\n        } else if (a[i].quantity > 1) {\n          a[i].quantity = a[i].quantity - 1\n        }\n      }\n    }\n    let total_cart = totalAmountCart(a)\n    a.total_cart = total_cart\n    setCart(a)\n  }\n\n  const totalAmountCart = (cart) => {\n    let total_cart = 0\n    cart.forEach(item => total_cart = total_cart + (item.quantity * item.price))\n    return total_cart\n  }\n\n  const emptyCart = () => {\n    setCart([])\n  }\n\n  const getCategories = (productsList) => {\n    let result = []\n    productsList.forEach(product => {\n        if (result.length === 0) {\n            result.push(product.category)\n        } else if (result[result.length -1] != product .category) {\n            result.push(product.category)\n        }\n    })\n    return result\n  }\n\n  const handleDemo = (e) => {\n    setDemo(e.target.value)\n  }\n\n  const handleCurrency = (e) => {\n    // TODO: change amount based on currency, ex: GBP -> USD\n    setCurrency(e.target.value)\n  }\n\n  const handleTheme = (e) => {\n    setTheme(e.target.value)\n  }\n\n  useEffect(() => {\n    updateProductsList()\n    updateUser()\n\n    socket.on(\"connect_error\", (err) => {\n      console.log(`connect_error due to ${err.message}`)\n      console.log(err)\n    })\n\n    socket.on('new_order', ({order}) => {\n      console.log('new order')\n      console.log(order)\n      setNotifications([...notifications, 'new order'])\n      // setNewOrders([...newOrders, order])\n      updateUser()\n    })\n\n    socket.on('order_update', ({order}) => {\n      console.log('order update')\n      console.log(order)\n      setNotifications([...notifications, 'order update'])\n      // setNewOrders([...newOrders, order])\n      updateUser()\n    })\n\n    socket.on('message', ({sentBy, text}) => {\n      setNotifications([...notifications, text])\n      setChat([...chat, {sentBy, text}])\n    })\n  }, [demo, selected])\n\n  return (\n    <div >\n      <ThemeProvider theme={myTheme}>\n\n        <SignInDialog\n          open={signInDialog}\n          handleChange={handleChange}\n          onClose={handleSignInDialog}\n          handleSignInDialog={handleSignInDialog}\n          handleSignUpDialog={handleSignUpDialog}\n          signIn={signIn}\n        />\n        <SignUpDialog\n          open={signUpDialog}\n          handleChange={handleChange}\n          onClose={handleSignUpDialog}\n          handleSignInDialog={handleSignInDialog}\n          handleSignUpDialog={handleSignUpDialog}\n          signUp={signUp}\n        />\n        <Paper>\n          <Grid container direction='column'>\n            <Grid item>\n              <Header\n                user={state.user}\n                signOut={signOut}\n                handleSelected={handleSelected}\n                handleMenuList={handleMenuList}\n                anchorEl={anchorEl}\n                menuList={menuList}\n                handleSignInDialog={handleSignInDialog}\n                handleSignUpDialog={handleSignUpDialog}\n                updateUser={updateUser}\n                cart={cart}\n                emptyCart={emptyCart}\n                handleDemo={handleDemo}\n                demo={demo}\n                currency={currency}\n                handleCurrency={handleCurrency}\n                theme={theme}\n                handleTheme={handleTheme}\n                notifications={notifications}\n              />\n\n            </Grid>\n            <Grid item>\n              <Body\n                productsList={productsList}\n                categories={categories}\n                selected={selected}\n                handleChange={handleChange}          \n                user={state.user}\n                cart={cart}\n                addToCart={addToCart}\n                deleteFromCart={deleteFromCart}\n                handleSelected={handleSelected}\n                updateUser={updateUser}\n                updateProductsList={updateProductsList}\n                handleSignInDialog={handleSignInDialog}\n                currency={currency}\n                orders={orders}\n                chat={chat}\n                newOrders={newOrders}\n              />\n              \n            </Grid>\n            <Grid item>\n              <Footer\n                handleSelected={handleSelected}\n              />\n              \n            </Grid>\n          </Grid>\n        </Paper>\n      </ThemeProvider>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}